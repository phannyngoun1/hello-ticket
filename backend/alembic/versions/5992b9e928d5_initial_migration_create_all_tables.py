"""Initial migration - create all tables

Revision ID: 5992b9e928d5
Revises: 
Create Date: 2026-02-09 19:00:08.878431

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = '5992b9e928d5'
down_revision = None
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('audit_logs',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_timestamp', sa.DateTime(timezone=True), nullable=True),
    sa.Column('event_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('severity', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('user_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('session_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('request_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ip_address', postgresql.INET(), nullable=True),
    sa.Column('user_agent', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('old_values', sa.JSON(), nullable=True),
    sa.Column('new_values', sa.JSON(), nullable=True),
    sa.Column('changed_fields', sa.ARRAY(sa.String()), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('metadata_json', sa.JSON(), nullable=True),
    sa.Column('retention_period_days', sa.Integer(), nullable=False),
    sa.Column('is_pii', sa.Boolean(), nullable=False),
    sa.Column('is_sensitive', sa.Boolean(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_audit_logs_entity', 'audit_logs', ['entity_type', 'entity_id', 'event_timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_entity_id'), 'audit_logs', ['entity_id'], unique=False)
    op.create_index(op.f('ix_audit_logs_event_id'), 'audit_logs', ['event_id'], unique=True)
    op.create_index('ix_audit_logs_event_type', 'audit_logs', ['event_type', 'event_timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_is_pii'), 'audit_logs', ['is_pii'], unique=False)
    op.create_index(op.f('ix_audit_logs_is_sensitive'), 'audit_logs', ['is_sensitive'], unique=False)
    op.create_index('ix_audit_logs_parent_entity', 'audit_logs', ['parent_entity_type', 'parent_entity_id', 'event_timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_parent_entity_id'), 'audit_logs', ['parent_entity_id'], unique=False)
    op.create_index(op.f('ix_audit_logs_severity'), 'audit_logs', ['severity'], unique=False)
    op.create_index('ix_audit_logs_tenant_event_timestamp', 'audit_logs', ['tenant_id', 'event_timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_tenant_id'), 'audit_logs', ['tenant_id'], unique=False)
    op.create_index('ix_audit_logs_user', 'audit_logs', ['user_id', 'event_timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_user_id'), 'audit_logs', ['user_id'], unique=False)
    op.create_table('customer_groups',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_id'], ['customer_groups.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_customer_groups_code'), 'customer_groups', ['code'], unique=False)
    op.create_index(op.f('ix_customer_groups_is_active'), 'customer_groups', ['is_active'], unique=False)
    op.create_index(op.f('ix_customer_groups_is_deleted'), 'customer_groups', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_groups_level'), 'customer_groups', ['level'], unique=False)
    op.create_index('ix_customer_groups_parent', 'customer_groups', ['tenant_id', 'parent_id'], unique=False)
    op.create_index(op.f('ix_customer_groups_parent_id'), 'customer_groups', ['parent_id'], unique=False)
    op.create_index('ix_customer_groups_tenant_active', 'customer_groups', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_customer_groups_tenant_code', 'customer_groups', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_customer_groups_tenant_deleted', 'customer_groups', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_groups_tenant_id'), 'customer_groups', ['tenant_id'], unique=False)
    op.create_table('customer_types',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_customer_types_code'), 'customer_types', ['code'], unique=False)
    op.create_index(op.f('ix_customer_types_is_active'), 'customer_types', ['is_active'], unique=False)
    op.create_index(op.f('ix_customer_types_is_deleted'), 'customer_types', ['is_deleted'], unique=False)
    op.create_index('ix_customer_types_tenant_active', 'customer_types', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_customer_types_tenant_code', 'customer_types', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_customer_types_tenant_deleted', 'customer_types', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_types_tenant_id'), 'customer_types', ['tenant_id'], unique=False)
    op.create_table('customers',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('business_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('street_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state_province', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('postal_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('country', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('date_of_birth', sa.Date(), nullable=True),
    sa.Column('gender', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('nationality', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('id_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('id_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('account_manager_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('sales_representative_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('customer_since', sa.DateTime(timezone=True), nullable=True),
    sa.Column('last_purchase_date', sa.DateTime(timezone=True), nullable=True),
    sa.Column('total_purchase_amount', sa.Float(), nullable=False),
    sa.Column('last_contact_date', sa.DateTime(timezone=True), nullable=True),
    sa.Column('event_preferences', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('seating_preferences', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('accessibility_needs', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dietary_restrictions', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('emergency_contact_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('emergency_contact_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('emergency_contact_relationship', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('preferred_language', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('marketing_opt_in', sa.Boolean(), nullable=False),
    sa.Column('email_marketing', sa.Boolean(), nullable=False),
    sa.Column('sms_marketing', sa.Boolean(), nullable=False),
    sa.Column('facebook_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('twitter_handle', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('linkedin_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('instagram_handle', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('website', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('public_notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deactivated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_customers_account_manager_id'), 'customers', ['account_manager_id'], unique=False)
    op.create_index(op.f('ix_customers_city'), 'customers', ['city'], unique=False)
    op.create_index(op.f('ix_customers_code'), 'customers', ['code'], unique=False)
    op.create_index(op.f('ix_customers_email'), 'customers', ['email'], unique=False)
    op.create_index(op.f('ix_customers_is_active'), 'customers', ['is_active'], unique=False)
    op.create_index(op.f('ix_customers_name'), 'customers', ['name'], unique=False)
    op.create_index(op.f('ix_customers_sales_representative_id'), 'customers', ['sales_representative_id'], unique=False)
    op.create_index('ix_customers_tenant_active', 'customers', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_customers_tenant_code', 'customers', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_customers_tenant_email', 'customers', ['tenant_id', 'email'], unique=False)
    op.create_index(op.f('ix_customers_tenant_id'), 'customers', ['tenant_id'], unique=False)
    op.create_table('employees',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('work_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('job_title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('department', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('manager_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('employment_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('hire_date', sa.Date(), nullable=True),
    sa.Column('work_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mobile_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('office_location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('timezone', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('skills', sa.JSON(), nullable=True),
    sa.Column('assigned_territories', sa.JSON(), nullable=True),
    sa.Column('quota_config', sa.JSON(), nullable=True),
    sa.Column('commission_tier', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('birthday', sa.Date(), nullable=True),
    sa.Column('emergency_contact_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('emergency_contact_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('emergency_contact_relationship', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['manager_id'], ['employees.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_employees_code'), 'employees', ['code'], unique=False)
    op.create_index(op.f('ix_employees_department'), 'employees', ['department'], unique=False)
    op.create_index(op.f('ix_employees_is_active'), 'employees', ['is_active'], unique=False)
    op.create_index(op.f('ix_employees_is_deleted'), 'employees', ['is_deleted'], unique=False)
    op.create_index('ix_employees_manager', 'employees', ['manager_id'], unique=False)
    op.create_index(op.f('ix_employees_manager_id'), 'employees', ['manager_id'], unique=False)
    op.create_index('ix_employees_tenant_active', 'employees', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_employees_tenant_code', 'employees', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_employees_tenant_deleted', 'employees', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index('ix_employees_tenant_department', 'employees', ['tenant_id', 'department'], unique=False)
    op.create_index(op.f('ix_employees_tenant_id'), 'employees', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_employees_user_id'), 'employees', ['user_id'], unique=False)
    op.create_index(op.f('ix_employees_work_email'), 'employees', ['work_email'], unique=False)
    op.create_table('event_types',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_event_types_code'), 'event_types', ['code'], unique=False)
    op.create_index(op.f('ix_event_types_is_active'), 'event_types', ['is_active'], unique=False)
    op.create_index(op.f('ix_event_types_is_deleted'), 'event_types', ['is_deleted'], unique=False)
    op.create_index('ix_event_types_tenant_active', 'event_types', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_event_types_tenant_code', 'event_types', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_event_types_tenant_deleted', 'event_types', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_event_types_tenant_id'), 'event_types', ['tenant_id'], unique=False)
    op.create_table('file_uploads',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('filename', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('original_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('mime_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('size', sa.Integer(), nullable=False),
    sa.Column('url', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('uploaded_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uploaded_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_file_uploads_filename', 'file_uploads', ['tenant_id', 'filename'], unique=True)
    op.create_index(op.f('ix_file_uploads_tenant_id'), 'file_uploads', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_file_uploads_uploaded_at'), 'file_uploads', ['uploaded_at'], unique=False)
    op.create_index('ix_file_uploads_uploaded_by', 'file_uploads', ['tenant_id', 'uploaded_by'], unique=False)
    op.create_table('group_roles',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('group_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('role_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('added_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('added_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_group_roles_group_id'), 'group_roles', ['group_id'], unique=False)
    op.create_index('ix_group_roles_group_role', 'group_roles', ['group_id', 'role_id'], unique=True)
    op.create_index('ix_group_roles_group_tenant', 'group_roles', ['group_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_group_roles_id'), 'group_roles', ['id'], unique=False)
    op.create_index(op.f('ix_group_roles_role_id'), 'group_roles', ['role_id'], unique=False)
    op.create_index('ix_group_roles_role_tenant', 'group_roles', ['role_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_group_roles_tenant_id'), 'group_roles', ['tenant_id'], unique=False)
    op.create_table('groups',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_groups_id'), 'groups', ['id'], unique=False)
    op.create_index(op.f('ix_groups_is_active'), 'groups', ['is_active'], unique=False)
    op.create_index(op.f('ix_groups_name'), 'groups', ['name'], unique=False)
    op.create_index('ix_groups_tenant_active', 'groups', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_groups_tenant_id'), 'groups', ['tenant_id'], unique=False)
    op.create_index('ix_groups_tenant_name', 'groups', ['tenant_id', 'name'], unique=True)
    op.create_table('organizers',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sa.String(length=2000), nullable=True),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('website', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('country', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('logo', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_organizers_city'), 'organizers', ['city'], unique=False)
    op.create_index(op.f('ix_organizers_code'), 'organizers', ['code'], unique=False)
    op.create_index(op.f('ix_organizers_email'), 'organizers', ['email'], unique=False)
    op.create_index(op.f('ix_organizers_is_active'), 'organizers', ['is_active'], unique=False)
    op.create_index(op.f('ix_organizers_is_deleted'), 'organizers', ['is_deleted'], unique=False)
    op.create_index('ix_organizers_tenant_active', 'organizers', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_organizers_tenant_code', 'organizers', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_organizers_tenant_deleted', 'organizers', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_organizers_tenant_id'), 'organizers', ['tenant_id'], unique=False)
    op.create_table('roles',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('permissions', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_system_role', sa.Boolean(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_roles_id'), 'roles', ['id'], unique=False)
    op.create_index(op.f('ix_roles_is_active'), 'roles', ['is_active'], unique=False)
    op.create_index(op.f('ix_roles_name'), 'roles', ['name'], unique=False)
    op.create_index('ix_roles_tenant_active', 'roles', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_roles_tenant_id'), 'roles', ['tenant_id'], unique=False)
    op.create_index('ix_roles_tenant_name', 'roles', ['tenant_id', 'name'], unique=True)
    op.create_table('sequences',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('sequence_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('prefix', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('digits', sa.Integer(), nullable=False),
    sa.Column('current_value', sa.Integer(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_sequences_sequence_type'), 'sequences', ['sequence_type'], unique=False)
    op.create_index(op.f('ix_sequences_tenant_id'), 'sequences', ['tenant_id'], unique=False)
    op.create_index('ix_sequences_tenant_type', 'sequences', ['tenant_id', 'sequence_type'], unique=True)
    op.create_table('sessions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('device_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_agent', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('ip_address', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('device_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('os', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('browser', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('expires_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('last_activity_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('revoked_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('revoked_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('revocation_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_sessions_created_at'), 'sessions', ['created_at'], unique=False)
    op.create_index(op.f('ix_sessions_device_type'), 'sessions', ['device_type'], unique=False)
    op.create_index('ix_sessions_expires_at', 'sessions', ['expires_at'], unique=False)
    op.create_index(op.f('ix_sessions_id'), 'sessions', ['id'], unique=False)
    op.create_index(op.f('ix_sessions_ip_address'), 'sessions', ['ip_address'], unique=False)
    op.create_index(op.f('ix_sessions_last_activity_at'), 'sessions', ['last_activity_at'], unique=False)
    op.create_index(op.f('ix_sessions_status'), 'sessions', ['status'], unique=False)
    op.create_index(op.f('ix_sessions_tenant_id'), 'sessions', ['tenant_id'], unique=False)
    op.create_index('ix_sessions_tenant_status', 'sessions', ['tenant_id', 'status'], unique=False)
    op.create_index(op.f('ix_sessions_user_id'), 'sessions', ['user_id'], unique=False)
    op.create_index('ix_sessions_user_status', 'sessions', ['user_id', 'status'], unique=False)
    op.create_index('ix_sessions_user_tenant', 'sessions', ['user_id', 'tenant_id'], unique=False)
    op.create_table('tags',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('color', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tags_entity_type'), 'tags', ['entity_type'], unique=False)
    op.create_index(op.f('ix_tags_is_active'), 'tags', ['is_active'], unique=False)
    op.create_index(op.f('ix_tags_name'), 'tags', ['name'], unique=False)
    op.create_index('ix_tags_tenant_active', 'tags', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_tags_tenant_entity', 'tags', ['tenant_id', 'entity_type'], unique=False)
    op.create_index('ix_tags_tenant_entity_name', 'tags', ['tenant_id', 'entity_type', 'name'], unique=True)
    op.create_index(op.f('ix_tags_tenant_id'), 'tags', ['tenant_id'], unique=False)
    op.create_table('tenant_subscriptions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('plan_tier', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('billing_cycle', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_locked', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tenant_subscriptions_id'), 'tenant_subscriptions', ['id'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_is_locked'), 'tenant_subscriptions', ['is_locked'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_plan_tier'), 'tenant_subscriptions', ['plan_tier'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_status'), 'tenant_subscriptions', ['status'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_tenant_id'), 'tenant_subscriptions', ['tenant_id'], unique=False)
    op.create_table('tenants',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('slug', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('settings', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('database_strategy', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('database_config', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tenants_database_strategy'), 'tenants', ['database_strategy'], unique=False)
    op.create_index(op.f('ix_tenants_id'), 'tenants', ['id'], unique=False)
    op.create_index(op.f('ix_tenants_is_active'), 'tenants', ['is_active'], unique=False)
    op.create_index(op.f('ix_tenants_name'), 'tenants', ['name'], unique=False)
    op.create_index(op.f('ix_tenants_slug'), 'tenants', ['slug'], unique=True)
    op.create_table('ui_custom_components',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('display_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('icon', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('component_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('schema_definition', sa.JSON(), nullable=True),
    sa.Column('default_props', sa.JSON(), nullable=True),
    sa.Column('code_implementation', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_system', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_custom_components_category'), 'ui_custom_components', ['category'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_component_type'), 'ui_custom_components', ['component_type'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_id'), 'ui_custom_components', ['id'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_is_active'), 'ui_custom_components', ['is_active'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_tenant_id'), 'ui_custom_components', ['tenant_id'], unique=False)
    op.create_index('ix_ui_custom_components_tenant_name', 'ui_custom_components', ['tenant_id', 'name'], unique=True)
    op.create_index('ix_ui_custom_components_tenant_type', 'ui_custom_components', ['tenant_id', 'component_type'], unique=False)
    op.create_table('ui_pages',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('schema_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('route_path', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('icon', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('permissions', sa.JSON(), nullable=True),
    sa.Column('is_public', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('order_index', sa.Integer(), nullable=False),
    sa.Column('parent_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_pages_id'), 'ui_pages', ['id'], unique=False)
    op.create_index(op.f('ix_ui_pages_is_active'), 'ui_pages', ['is_active'], unique=False)
    op.create_index(op.f('ix_ui_pages_route_path'), 'ui_pages', ['route_path'], unique=False)
    op.create_index(op.f('ix_ui_pages_schema_id'), 'ui_pages', ['schema_id'], unique=False)
    op.create_index('ix_ui_pages_tenant_active', 'ui_pages', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_ui_pages_tenant_id'), 'ui_pages', ['tenant_id'], unique=False)
    op.create_index('ix_ui_pages_tenant_route', 'ui_pages', ['tenant_id', 'route_path'], unique=True)
    op.create_table('ui_schema_versions',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('schema_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('schema_data', sa.JSON(), nullable=True),
    sa.Column('change_summary', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_schema_versions_created_at'), 'ui_schema_versions', ['created_at'], unique=False)
    op.create_index(op.f('ix_ui_schema_versions_id'), 'ui_schema_versions', ['id'], unique=False)
    op.create_index(op.f('ix_ui_schema_versions_schema_id'), 'ui_schema_versions', ['schema_id'], unique=False)
    op.create_index('ix_ui_schema_versions_schema_version', 'ui_schema_versions', ['schema_id', 'version'], unique=True)
    op.create_table('ui_schemas',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('display_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('schema_data', sa.JSON(), nullable=True),
    sa.Column('metadata_json', sa.JSON(), nullable=True),
    sa.Column('created_by', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('published_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_schemas_category'), 'ui_schemas', ['category'], unique=False)
    op.create_index(op.f('ix_ui_schemas_created_at'), 'ui_schemas', ['created_at'], unique=False)
    op.create_index(op.f('ix_ui_schemas_created_by'), 'ui_schemas', ['created_by'], unique=False)
    op.create_index(op.f('ix_ui_schemas_id'), 'ui_schemas', ['id'], unique=False)
    op.create_index(op.f('ix_ui_schemas_name'), 'ui_schemas', ['name'], unique=False)
    op.create_index(op.f('ix_ui_schemas_status'), 'ui_schemas', ['status'], unique=False)
    op.create_index(op.f('ix_ui_schemas_tenant_id'), 'ui_schemas', ['tenant_id'], unique=False)
    op.create_index('ix_ui_schemas_tenant_name_version', 'ui_schemas', ['tenant_id', 'name', 'version'], unique=True)
    op.create_index('ix_ui_schemas_tenant_status', 'ui_schemas', ['tenant_id', 'status'], unique=False)
    op.create_table('user_groups',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('group_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('added_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('added_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_groups_group_id'), 'user_groups', ['group_id'], unique=False)
    op.create_index('ix_user_groups_group_tenant', 'user_groups', ['group_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_user_groups_id'), 'user_groups', ['id'], unique=False)
    op.create_index(op.f('ix_user_groups_tenant_id'), 'user_groups', ['tenant_id'], unique=False)
    op.create_index('ix_user_groups_user_group', 'user_groups', ['user_id', 'group_id'], unique=True)
    op.create_index(op.f('ix_user_groups_user_id'), 'user_groups', ['user_id'], unique=False)
    op.create_index('ix_user_groups_user_tenant', 'user_groups', ['user_id', 'tenant_id'], unique=False)
    op.create_table('user_preferences',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('preferences', sa.JSON(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_preferences_id'), 'user_preferences', ['id'], unique=False)
    op.create_index('ix_user_preferences_tenant', 'user_preferences', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_preferences_tenant_id'), 'user_preferences', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_preferences_user_id'), 'user_preferences', ['user_id'], unique=False)
    op.create_index('ix_user_preferences_user_tenant', 'user_preferences', ['user_id', 'tenant_id'], unique=True)
    op.create_table('user_roles',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('user_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('role_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('assigned_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_roles_id'), 'user_roles', ['id'], unique=False)
    op.create_index(op.f('ix_user_roles_role_id'), 'user_roles', ['role_id'], unique=False)
    op.create_index('ix_user_roles_role_tenant', 'user_roles', ['role_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_user_roles_tenant_id'), 'user_roles', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_roles_user_id'), 'user_roles', ['user_id'], unique=False)
    op.create_index('ix_user_roles_user_role', 'user_roles', ['user_id', 'role_id'], unique=True)
    op.create_index('ix_user_roles_user_tenant', 'user_roles', ['user_id', 'tenant_id'], unique=False)
    op.create_table('users',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('username', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('first_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('last_name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('hashed_password', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('base_role', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_verified', sa.Boolean(), nullable=False),
    sa.Column('must_change_password', sa.Boolean(), nullable=False),
    sa.Column('last_login', sa.DateTime(timezone=True), nullable=True),
    sa.Column('last_password_change', sa.DateTime(timezone=True), nullable=True),
    sa.Column('failed_login_attempts', sa.Integer(), nullable=False),
    sa.Column('locked_until', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_base_role'), 'users', ['base_role'], unique=False)
    op.create_index(op.f('ix_users_email'), 'users', ['email'], unique=False)
    op.create_index(op.f('ix_users_first_name'), 'users', ['first_name'], unique=False)
    op.create_index(op.f('ix_users_id'), 'users', ['id'], unique=False)
    op.create_index(op.f('ix_users_last_name'), 'users', ['last_name'], unique=False)
    op.create_index('ix_users_tenant_email', 'users', ['tenant_id', 'email'], unique=True)
    op.create_index(op.f('ix_users_tenant_id'), 'users', ['tenant_id'], unique=False)
    op.create_index('ix_users_tenant_username', 'users', ['tenant_id', 'username'], unique=True)
    op.create_index(op.f('ix_users_username'), 'users', ['username'], unique=False)
    op.create_table('users_cache',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('role', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('synced_at', sa.DateTime(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_cache_email'), 'users_cache', ['email'], unique=False)
    op.create_index(op.f('ix_users_cache_is_active'), 'users_cache', ['is_active'], unique=False)
    op.create_index(op.f('ix_users_cache_name'), 'users_cache', ['name'], unique=False)
    op.create_index(op.f('ix_users_cache_role'), 'users_cache', ['role'], unique=False)
    op.create_index(op.f('ix_users_cache_synced_at'), 'users_cache', ['synced_at'], unique=False)
    op.create_index('ix_users_cache_tenant_active', 'users_cache', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_users_cache_tenant_email', 'users_cache', ['tenant_id', 'email'], unique=False)
    op.create_index(op.f('ix_users_cache_tenant_id'), 'users_cache', ['tenant_id'], unique=False)
    op.create_table('venue_types',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_venue_types_code'), 'venue_types', ['code'], unique=False)
    op.create_index(op.f('ix_venue_types_is_active'), 'venue_types', ['is_active'], unique=False)
    op.create_index(op.f('ix_venue_types_is_deleted'), 'venue_types', ['is_deleted'], unique=False)
    op.create_index('ix_venue_types_tenant_active', 'venue_types', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_venue_types_tenant_code', 'venue_types', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_venue_types_tenant_deleted', 'venue_types', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_venue_types_tenant_id'), 'venue_types', ['tenant_id'], unique=False)
    op.create_table('venues',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('image_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('venue_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('capacity', sa.Integer(), nullable=True),
    sa.Column('parking_info', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('accessibility', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('amenities', sa.ARRAY(sa.String()), nullable=True),
    sa.Column('opening_hours', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('website', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('street_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state_province', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('postal_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('country', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_venues_code'), 'venues', ['code'], unique=False)
    op.create_index(op.f('ix_venues_is_active'), 'venues', ['is_active'], unique=False)
    op.create_index(op.f('ix_venues_is_deleted'), 'venues', ['is_deleted'], unique=False)
    op.create_index('ix_venues_tenant_active', 'venues', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_venues_tenant_code', 'venues', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_venues_tenant_deleted', 'venues', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_venues_tenant_id'), 'venues', ['tenant_id'], unique=False)
    op.create_table('attachment_links',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_upload_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('attachment_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['file_upload_id'], ['file_uploads.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_attachment_links_attachment_type'), 'attachment_links', ['attachment_type'], unique=False)
    op.create_index('ix_attachment_links_entity', 'attachment_links', ['entity_type', 'entity_id'], unique=False)
    op.create_index(op.f('ix_attachment_links_entity_id'), 'attachment_links', ['entity_id'], unique=False)
    op.create_index(op.f('ix_attachment_links_entity_type'), 'attachment_links', ['entity_type'], unique=False)
    op.create_index(op.f('ix_attachment_links_file_upload_id'), 'attachment_links', ['file_upload_id'], unique=False)
    op.create_index('ix_attachment_links_tenant_entity', 'attachment_links', ['tenant_id', 'entity_type', 'entity_id'], unique=False)
    op.create_index('ix_attachment_links_tenant_file', 'attachment_links', ['tenant_id', 'file_upload_id'], unique=False)
    op.create_index(op.f('ix_attachment_links_tenant_id'), 'attachment_links', ['tenant_id'], unique=False)
    op.create_index('ix_attachment_links_type', 'attachment_links', ['tenant_id', 'entity_type', 'entity_id', 'attachment_type'], unique=False)
    op.create_index('ix_attachment_links_unique', 'attachment_links', ['file_upload_id', 'entity_type', 'entity_id'], unique=True)
    op.create_table('layouts',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('venue_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('file_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('design_mode', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['file_id'], ['file_uploads.id'], ),
    sa.ForeignKeyConstraint(['venue_id'], ['venues.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_layouts_design_mode'), 'layouts', ['design_mode'], unique=False)
    op.create_index(op.f('ix_layouts_file_id'), 'layouts', ['file_id'], unique=False)
    op.create_index(op.f('ix_layouts_is_active'), 'layouts', ['is_active'], unique=False)
    op.create_index(op.f('ix_layouts_is_deleted'), 'layouts', ['is_deleted'], unique=False)
    op.create_index('ix_layouts_tenant_active', 'layouts', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_layouts_tenant_deleted', 'layouts', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_layouts_tenant_id'), 'layouts', ['tenant_id'], unique=False)
    op.create_index('ix_layouts_venue', 'layouts', ['tenant_id', 'venue_id'], unique=False)
    op.create_index(op.f('ix_layouts_venue_id'), 'layouts', ['venue_id'], unique=False)
    op.create_table('shows',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('code', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('organizer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('started_date', sa.Date(), nullable=True),
    sa.Column('ended_date', sa.Date(), nullable=True),
    sa.Column('note', sa.String(length=5000), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['organizer_id'], ['organizers.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_shows_code'), 'shows', ['code'], unique=False)
    op.create_index(op.f('ix_shows_is_active'), 'shows', ['is_active'], unique=False)
    op.create_index(op.f('ix_shows_is_deleted'), 'shows', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_shows_organizer_id'), 'shows', ['organizer_id'], unique=False)
    op.create_index('ix_shows_tenant_active', 'shows', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_shows_tenant_code', 'shows', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_shows_tenant_deleted', 'shows', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_shows_tenant_id'), 'shows', ['tenant_id'], unique=False)
    op.create_table('tag_links',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tag_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('entity_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['tag_id'], ['tags.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_tag_links_entity', 'tag_links', ['entity_type', 'entity_id'], unique=False)
    op.create_index(op.f('ix_tag_links_entity_id'), 'tag_links', ['entity_id'], unique=False)
    op.create_index(op.f('ix_tag_links_entity_type'), 'tag_links', ['entity_type'], unique=False)
    op.create_index(op.f('ix_tag_links_tag_id'), 'tag_links', ['tag_id'], unique=False)
    op.create_index('ix_tag_links_tenant_entity', 'tag_links', ['tenant_id', 'entity_type', 'entity_id'], unique=False)
    op.create_index(op.f('ix_tag_links_tenant_id'), 'tag_links', ['tenant_id'], unique=False)
    op.create_index('ix_tag_links_tenant_tag', 'tag_links', ['tenant_id', 'tag_id'], unique=False)
    op.create_index('ix_tag_links_unique', 'tag_links', ['tag_id', 'entity_type', 'entity_id'], unique=True)
    op.create_table('events',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('show_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('start_dt', sa.DateTime(timezone=True), nullable=True),
    sa.Column('duration_minutes', sa.Integer(), nullable=False),
    sa.Column('venue_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('layout_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sa.Enum('DRAFT', 'PUBLISHED', 'ON_SALE', 'SOLD_OUT', 'CANCELLED', 'COMPLETED', name='eventstatusenum', native_enum=False), nullable=True),
    sa.Column('configuration_type', sa.String(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['layout_id'], ['layouts.id'], ),
    sa.ForeignKeyConstraint(['show_id'], ['shows.id'], ),
    sa.ForeignKeyConstraint(['venue_id'], ['venues.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_events_is_active'), 'events', ['is_active'], unique=False)
    op.create_index(op.f('ix_events_is_deleted'), 'events', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_events_layout_id'), 'events', ['layout_id'], unique=False)
    op.create_index(op.f('ix_events_show_id'), 'events', ['show_id'], unique=False)
    op.create_index('ix_events_start_dt', 'events', ['start_dt'], unique=False)
    op.create_index('ix_events_tenant_active', 'events', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_events_tenant_configuration', 'events', ['tenant_id', 'configuration_type'], unique=False)
    op.create_index('ix_events_tenant_deleted', 'events', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_events_tenant_id'), 'events', ['tenant_id'], unique=False)
    op.create_index('ix_events_tenant_layout', 'events', ['tenant_id', 'layout_id'], unique=False)
    op.create_index('ix_events_tenant_show', 'events', ['tenant_id', 'show_id'], unique=False)
    op.create_index('ix_events_tenant_status', 'events', ['tenant_id', 'status'], unique=False)
    op.create_index('ix_events_tenant_venue', 'events', ['tenant_id', 'venue_id'], unique=False)
    op.create_index(op.f('ix_events_venue_id'), 'events', ['venue_id'], unique=False)
    op.create_table('sections',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('layout_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('x_coordinate', sa.Float(), nullable=True),
    sa.Column('y_coordinate', sa.Float(), nullable=True),
    sa.Column('file_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('shape', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['file_id'], ['file_uploads.id'], ),
    sa.ForeignKeyConstraint(['layout_id'], ['layouts.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_sections_file_id'), 'sections', ['file_id'], unique=False)
    op.create_index(op.f('ix_sections_is_active'), 'sections', ['is_active'], unique=False)
    op.create_index(op.f('ix_sections_is_deleted'), 'sections', ['is_deleted'], unique=False)
    op.create_index('ix_sections_layout', 'sections', ['tenant_id', 'layout_id'], unique=False)
    op.create_index(op.f('ix_sections_layout_id'), 'sections', ['layout_id'], unique=False)
    op.create_index('ix_sections_layout_name', 'sections', ['layout_id', 'name'], unique=True)
    op.create_index(op.f('ix_sections_name'), 'sections', ['name'], unique=False)
    op.create_index('ix_sections_tenant_active', 'sections', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_sections_tenant_deleted', 'sections', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_sections_tenant_id'), 'sections', ['tenant_id'], unique=False)
    op.create_table('show_images',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('show_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('file_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('description', sa.String(length=1000), nullable=True),
    sa.Column('is_banner', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['file_id'], ['file_uploads.id'], ),
    sa.ForeignKeyConstraint(['show_id'], ['shows.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_show_images_file_id'), 'show_images', ['file_id'], unique=False)
    op.create_index(op.f('ix_show_images_is_banner'), 'show_images', ['is_banner'], unique=False)
    op.create_index(op.f('ix_show_images_show_id'), 'show_images', ['show_id'], unique=False)
    op.create_index(op.f('ix_show_images_tenant_id'), 'show_images', ['tenant_id'], unique=False)
    op.create_table('bookings',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('booking_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('customer_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('event_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('salesperson_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sa.Enum('PENDING', 'RESERVED', 'CONFIRMED', 'PAID', 'CANCELLED', 'REFUNDED', name='bookingstatusenum', native_enum=False), nullable=True),
    sa.Column('subtotal_amount', sa.Float(), nullable=False),
    sa.Column('discount_amount', sa.Float(), nullable=False),
    sa.Column('discount_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('discount_value', sa.Float(), nullable=True),
    sa.Column('tax_amount', sa.Float(), nullable=False),
    sa.Column('tax_rate', sa.Float(), nullable=False),
    sa.Column('total_amount', sa.Float(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('payment_status', sa.Enum('PENDING', 'PROCESSING', 'PAID', 'REFUNDED', 'CANCELLED', name='bookingpaymentstatusenum', native_enum=False), nullable=True),
    sa.Column('due_balance', sa.Float(), nullable=False),
    sa.Column('reserved_until', sa.DateTime(timezone=True), nullable=True),
    sa.Column('cancelled_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('cancellation_reason', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['event_id'], ['events.id'], ),
    sa.ForeignKeyConstraint(['salesperson_id'], ['employees.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_bookings_booking_number'), 'bookings', ['booking_number'], unique=True)
    op.create_index(op.f('ix_bookings_customer_id'), 'bookings', ['customer_id'], unique=False)
    op.create_index(op.f('ix_bookings_event_id'), 'bookings', ['event_id'], unique=False)
    op.create_index(op.f('ix_bookings_payment_status'), 'bookings', ['payment_status'], unique=False)
    op.create_index(op.f('ix_bookings_salesperson_id'), 'bookings', ['salesperson_id'], unique=False)
    op.create_index(op.f('ix_bookings_status'), 'bookings', ['status'], unique=False)
    op.create_index('ix_bookings_tenant_customer', 'bookings', ['tenant_id', 'customer_id'], unique=False)
    op.create_index('ix_bookings_tenant_event', 'bookings', ['tenant_id', 'event_id'], unique=False)
    op.create_index(op.f('ix_bookings_tenant_id'), 'bookings', ['tenant_id'], unique=False)
    op.create_index('ix_bookings_tenant_status', 'bookings', ['tenant_id', 'status'], unique=False)
    op.create_table('seats',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('venue_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('layout_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('section_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('row', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('seat_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('seat_type', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('x_coordinate', sa.Float(), nullable=True),
    sa.Column('y_coordinate', sa.Float(), nullable=True),
    sa.Column('shape', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['layout_id'], ['layouts.id'], ),
    sa.ForeignKeyConstraint(['section_id'], ['sections.id'], ),
    sa.ForeignKeyConstraint(['venue_id'], ['venues.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_seats_is_active'), 'seats', ['is_active'], unique=False)
    op.create_index(op.f('ix_seats_is_deleted'), 'seats', ['is_deleted'], unique=False)
    op.create_index('ix_seats_layout', 'seats', ['tenant_id', 'layout_id'], unique=False)
    op.create_index(op.f('ix_seats_layout_id'), 'seats', ['layout_id'], unique=False)
    op.create_index('ix_seats_location', 'seats', ['layout_id', 'section_id', 'row', 'seat_number'], unique=True)
    op.create_index(op.f('ix_seats_row'), 'seats', ['row'], unique=False)
    op.create_index(op.f('ix_seats_seat_number'), 'seats', ['seat_number'], unique=False)
    op.create_index(op.f('ix_seats_seat_type'), 'seats', ['seat_type'], unique=False)
    op.create_index('ix_seats_section', 'seats', ['tenant_id', 'section_id'], unique=False)
    op.create_index(op.f('ix_seats_section_id'), 'seats', ['section_id'], unique=False)
    op.create_index('ix_seats_tenant_active', 'seats', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_seats_tenant_deleted', 'seats', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_seats_tenant_id'), 'seats', ['tenant_id'], unique=False)
    op.create_index('ix_seats_venue', 'seats', ['tenant_id', 'venue_id'], unique=False)
    op.create_index(op.f('ix_seats_venue_id'), 'seats', ['venue_id'], unique=False)
    op.create_table('event_seats',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('seat_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sa.Enum('AVAILABLE', 'RESERVED', 'SOLD', 'HELD', 'BLOCKED', name='eventseatstatusenum', native_enum=False), nullable=True),
    sa.Column('section_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('row_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('seat_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('price', sa.Float(), nullable=False),
    sa.Column('broker_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['event_id'], ['events.id'], ),
    sa.ForeignKeyConstraint(['seat_id'], ['seats.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_event_seats_broker', 'event_seats', ['tenant_id', 'broker_id'], unique=False)
    op.create_index(op.f('ix_event_seats_broker_id'), 'event_seats', ['broker_id'], unique=False)
    op.create_index(op.f('ix_event_seats_event_id'), 'event_seats', ['event_id'], unique=False)
    op.create_index('ix_event_seats_event_location', 'event_seats', ['event_id', 'section_name', 'row_name', 'seat_number'], unique=False)
    op.create_index('ix_event_seats_event_status', 'event_seats', ['event_id', 'status'], unique=False)
    op.create_index(op.f('ix_event_seats_is_active'), 'event_seats', ['is_active'], unique=False)
    op.create_index(op.f('ix_event_seats_is_deleted'), 'event_seats', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_event_seats_row_name'), 'event_seats', ['row_name'], unique=False)
    op.create_index(op.f('ix_event_seats_seat_id'), 'event_seats', ['seat_id'], unique=False)
    op.create_index(op.f('ix_event_seats_seat_number'), 'event_seats', ['seat_number'], unique=False)
    op.create_index(op.f('ix_event_seats_section_name'), 'event_seats', ['section_name'], unique=False)
    op.create_index(op.f('ix_event_seats_status'), 'event_seats', ['status'], unique=False)
    op.create_index('ix_event_seats_tenant_active', 'event_seats', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_event_seats_tenant_deleted', 'event_seats', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_event_seats_tenant_id'), 'event_seats', ['tenant_id'], unique=False)
    op.create_table('payments',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('booking_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('payment_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('amount', sa.Float(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('payment_method', sa.Enum('CREDIT_CARD', 'DEBIT_CARD', 'PAYPAL', 'BANK_TRANSFER', 'CASH', 'OTHER', name='paymentmethodenum', native_enum=False), nullable=True),
    sa.Column('status', sa.Enum('COMPLETED', 'VOID', name='paymentstatusenum', native_enum=False), nullable=True),
    sa.Column('transaction_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('processed_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['booking_id'], ['bookings.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_payments_booking_id'), 'payments', ['booking_id'], unique=False)
    op.create_index(op.f('ix_payments_payment_code'), 'payments', ['payment_code'], unique=False)
    op.create_index(op.f('ix_payments_payment_method'), 'payments', ['payment_method'], unique=False)
    op.create_index(op.f('ix_payments_status'), 'payments', ['status'], unique=False)
    op.create_index('ix_payments_tenant_booking', 'payments', ['tenant_id', 'booking_id'], unique=False)
    op.create_index(op.f('ix_payments_tenant_id'), 'payments', ['tenant_id'], unique=False)
    op.create_index('ix_payments_tenant_status', 'payments', ['tenant_id', 'status'], unique=False)
    op.create_index(op.f('ix_payments_transaction_reference'), 'payments', ['transaction_reference'], unique=False)
    op.create_table('tickets',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_seat_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('booking_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ticket_number', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('status', sa.Enum('AVAILABLE', 'RESERVED', 'CONFIRMED', 'CANCELLED', 'TRANSFERRED', 'USED', name='ticketstatusenum', native_enum=False), nullable=True),
    sa.Column('price', sa.Float(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('barcode', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('qr_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('transfer_token', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reserved_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('reserved_until', sa.DateTime(timezone=True), nullable=True),
    sa.Column('expires_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('scanned_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('issued_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['booking_id'], ['bookings.id'], ),
    sa.ForeignKeyConstraint(['event_id'], ['events.id'], ),
    sa.ForeignKeyConstraint(['event_seat_id'], ['event_seats.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tickets_barcode'), 'tickets', ['barcode'], unique=True)
    op.create_index('ix_tickets_booking', 'tickets', ['tenant_id', 'booking_id'], unique=False)
    op.create_index(op.f('ix_tickets_booking_id'), 'tickets', ['booking_id'], unique=False)
    op.create_index(op.f('ix_tickets_event_id'), 'tickets', ['event_id'], unique=False)
    op.create_index('ix_tickets_event_seat', 'tickets', ['event_id', 'event_seat_id'], unique=False)
    op.create_index(op.f('ix_tickets_event_seat_id'), 'tickets', ['event_seat_id'], unique=False)
    op.create_index('ix_tickets_event_status', 'tickets', ['event_id', 'status'], unique=False)
    op.create_index(op.f('ix_tickets_is_deleted'), 'tickets', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_tickets_qr_code'), 'tickets', ['qr_code'], unique=True)
    op.create_index(op.f('ix_tickets_status'), 'tickets', ['status'], unique=False)
    op.create_index('ix_tickets_tenant_deleted', 'tickets', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index('ix_tickets_tenant_event', 'tickets', ['tenant_id', 'event_id'], unique=False)
    op.create_index(op.f('ix_tickets_tenant_id'), 'tickets', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_tickets_ticket_number'), 'tickets', ['ticket_number'], unique=True)
    op.create_index(op.f('ix_tickets_transfer_token'), 'tickets', ['transfer_token'], unique=False)
    op.create_table('booking_items',
    sa.Column('id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('tenant_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('booking_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('event_seat_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('ticket_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('section_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('row_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('seat_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('unit_price', sa.Float(), nullable=False),
    sa.Column('total_price', sa.Float(), nullable=False),
    sa.Column('currency', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('ticket_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('ticket_status', sa.Enum('AVAILABLE', 'RESERVED', 'CONFIRMED', 'CANCELLED', 'TRANSFERRED', 'USED', name='ticketstatusenum', native_enum=False), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['booking_id'], ['bookings.id'], ),
    sa.ForeignKeyConstraint(['event_seat_id'], ['event_seats.id'], ),
    sa.ForeignKeyConstraint(['ticket_id'], ['tickets.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_booking_items_booking', 'booking_items', ['tenant_id', 'booking_id'], unique=False)
    op.create_index(op.f('ix_booking_items_booking_id'), 'booking_items', ['booking_id'], unique=False)
    op.create_index('ix_booking_items_event_seat', 'booking_items', ['event_seat_id'], unique=False)
    op.create_index(op.f('ix_booking_items_event_seat_id'), 'booking_items', ['event_seat_id'], unique=False)
    op.create_index(op.f('ix_booking_items_tenant_id'), 'booking_items', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_booking_items_ticket_id'), 'booking_items', ['ticket_id'], unique=False)
    op.create_index(op.f('ix_booking_items_ticket_number'), 'booking_items', ['ticket_number'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_booking_items_ticket_number'), table_name='booking_items')
    op.drop_index(op.f('ix_booking_items_ticket_id'), table_name='booking_items')
    op.drop_index(op.f('ix_booking_items_tenant_id'), table_name='booking_items')
    op.drop_index(op.f('ix_booking_items_event_seat_id'), table_name='booking_items')
    op.drop_index('ix_booking_items_event_seat', table_name='booking_items')
    op.drop_index(op.f('ix_booking_items_booking_id'), table_name='booking_items')
    op.drop_index('ix_booking_items_booking', table_name='booking_items')
    op.drop_table('booking_items')
    op.drop_index(op.f('ix_tickets_transfer_token'), table_name='tickets')
    op.drop_index(op.f('ix_tickets_ticket_number'), table_name='tickets')
    op.drop_index(op.f('ix_tickets_tenant_id'), table_name='tickets')
    op.drop_index('ix_tickets_tenant_event', table_name='tickets')
    op.drop_index('ix_tickets_tenant_deleted', table_name='tickets')
    op.drop_index(op.f('ix_tickets_status'), table_name='tickets')
    op.drop_index(op.f('ix_tickets_qr_code'), table_name='tickets')
    op.drop_index(op.f('ix_tickets_is_deleted'), table_name='tickets')
    op.drop_index('ix_tickets_event_status', table_name='tickets')
    op.drop_index(op.f('ix_tickets_event_seat_id'), table_name='tickets')
    op.drop_index('ix_tickets_event_seat', table_name='tickets')
    op.drop_index(op.f('ix_tickets_event_id'), table_name='tickets')
    op.drop_index(op.f('ix_tickets_booking_id'), table_name='tickets')
    op.drop_index('ix_tickets_booking', table_name='tickets')
    op.drop_index(op.f('ix_tickets_barcode'), table_name='tickets')
    op.drop_table('tickets')
    op.drop_index(op.f('ix_payments_transaction_reference'), table_name='payments')
    op.drop_index('ix_payments_tenant_status', table_name='payments')
    op.drop_index(op.f('ix_payments_tenant_id'), table_name='payments')
    op.drop_index('ix_payments_tenant_booking', table_name='payments')
    op.drop_index(op.f('ix_payments_status'), table_name='payments')
    op.drop_index(op.f('ix_payments_payment_method'), table_name='payments')
    op.drop_index(op.f('ix_payments_payment_code'), table_name='payments')
    op.drop_index(op.f('ix_payments_booking_id'), table_name='payments')
    op.drop_table('payments')
    op.drop_index(op.f('ix_event_seats_tenant_id'), table_name='event_seats')
    op.drop_index('ix_event_seats_tenant_deleted', table_name='event_seats')
    op.drop_index('ix_event_seats_tenant_active', table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_status'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_section_name'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_seat_number'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_seat_id'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_row_name'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_is_deleted'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_is_active'), table_name='event_seats')
    op.drop_index('ix_event_seats_event_status', table_name='event_seats')
    op.drop_index('ix_event_seats_event_location', table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_event_id'), table_name='event_seats')
    op.drop_index(op.f('ix_event_seats_broker_id'), table_name='event_seats')
    op.drop_index('ix_event_seats_broker', table_name='event_seats')
    op.drop_table('event_seats')
    op.drop_index(op.f('ix_seats_venue_id'), table_name='seats')
    op.drop_index('ix_seats_venue', table_name='seats')
    op.drop_index(op.f('ix_seats_tenant_id'), table_name='seats')
    op.drop_index('ix_seats_tenant_deleted', table_name='seats')
    op.drop_index('ix_seats_tenant_active', table_name='seats')
    op.drop_index(op.f('ix_seats_section_id'), table_name='seats')
    op.drop_index('ix_seats_section', table_name='seats')
    op.drop_index(op.f('ix_seats_seat_type'), table_name='seats')
    op.drop_index(op.f('ix_seats_seat_number'), table_name='seats')
    op.drop_index(op.f('ix_seats_row'), table_name='seats')
    op.drop_index('ix_seats_location', table_name='seats')
    op.drop_index(op.f('ix_seats_layout_id'), table_name='seats')
    op.drop_index('ix_seats_layout', table_name='seats')
    op.drop_index(op.f('ix_seats_is_deleted'), table_name='seats')
    op.drop_index(op.f('ix_seats_is_active'), table_name='seats')
    op.drop_table('seats')
    op.drop_index('ix_bookings_tenant_status', table_name='bookings')
    op.drop_index(op.f('ix_bookings_tenant_id'), table_name='bookings')
    op.drop_index('ix_bookings_tenant_event', table_name='bookings')
    op.drop_index('ix_bookings_tenant_customer', table_name='bookings')
    op.drop_index(op.f('ix_bookings_status'), table_name='bookings')
    op.drop_index(op.f('ix_bookings_salesperson_id'), table_name='bookings')
    op.drop_index(op.f('ix_bookings_payment_status'), table_name='bookings')
    op.drop_index(op.f('ix_bookings_event_id'), table_name='bookings')
    op.drop_index(op.f('ix_bookings_customer_id'), table_name='bookings')
    op.drop_index(op.f('ix_bookings_booking_number'), table_name='bookings')
    op.drop_table('bookings')
    op.drop_index(op.f('ix_show_images_tenant_id'), table_name='show_images')
    op.drop_index(op.f('ix_show_images_show_id'), table_name='show_images')
    op.drop_index(op.f('ix_show_images_is_banner'), table_name='show_images')
    op.drop_index(op.f('ix_show_images_file_id'), table_name='show_images')
    op.drop_table('show_images')
    op.drop_index(op.f('ix_sections_tenant_id'), table_name='sections')
    op.drop_index('ix_sections_tenant_deleted', table_name='sections')
    op.drop_index('ix_sections_tenant_active', table_name='sections')
    op.drop_index(op.f('ix_sections_name'), table_name='sections')
    op.drop_index('ix_sections_layout_name', table_name='sections')
    op.drop_index(op.f('ix_sections_layout_id'), table_name='sections')
    op.drop_index('ix_sections_layout', table_name='sections')
    op.drop_index(op.f('ix_sections_is_deleted'), table_name='sections')
    op.drop_index(op.f('ix_sections_is_active'), table_name='sections')
    op.drop_index(op.f('ix_sections_file_id'), table_name='sections')
    op.drop_table('sections')
    op.drop_index(op.f('ix_events_venue_id'), table_name='events')
    op.drop_index('ix_events_tenant_venue', table_name='events')
    op.drop_index('ix_events_tenant_status', table_name='events')
    op.drop_index('ix_events_tenant_show', table_name='events')
    op.drop_index('ix_events_tenant_layout', table_name='events')
    op.drop_index(op.f('ix_events_tenant_id'), table_name='events')
    op.drop_index('ix_events_tenant_deleted', table_name='events')
    op.drop_index('ix_events_tenant_configuration', table_name='events')
    op.drop_index('ix_events_tenant_active', table_name='events')
    op.drop_index('ix_events_start_dt', table_name='events')
    op.drop_index(op.f('ix_events_show_id'), table_name='events')
    op.drop_index(op.f('ix_events_layout_id'), table_name='events')
    op.drop_index(op.f('ix_events_is_deleted'), table_name='events')
    op.drop_index(op.f('ix_events_is_active'), table_name='events')
    op.drop_table('events')
    op.drop_index('ix_tag_links_unique', table_name='tag_links')
    op.drop_index('ix_tag_links_tenant_tag', table_name='tag_links')
    op.drop_index(op.f('ix_tag_links_tenant_id'), table_name='tag_links')
    op.drop_index('ix_tag_links_tenant_entity', table_name='tag_links')
    op.drop_index(op.f('ix_tag_links_tag_id'), table_name='tag_links')
    op.drop_index(op.f('ix_tag_links_entity_type'), table_name='tag_links')
    op.drop_index(op.f('ix_tag_links_entity_id'), table_name='tag_links')
    op.drop_index('ix_tag_links_entity', table_name='tag_links')
    op.drop_table('tag_links')
    op.drop_index(op.f('ix_shows_tenant_id'), table_name='shows')
    op.drop_index('ix_shows_tenant_deleted', table_name='shows')
    op.drop_index('ix_shows_tenant_code', table_name='shows')
    op.drop_index('ix_shows_tenant_active', table_name='shows')
    op.drop_index(op.f('ix_shows_organizer_id'), table_name='shows')
    op.drop_index(op.f('ix_shows_is_deleted'), table_name='shows')
    op.drop_index(op.f('ix_shows_is_active'), table_name='shows')
    op.drop_index(op.f('ix_shows_code'), table_name='shows')
    op.drop_table('shows')
    op.drop_index(op.f('ix_layouts_venue_id'), table_name='layouts')
    op.drop_index('ix_layouts_venue', table_name='layouts')
    op.drop_index(op.f('ix_layouts_tenant_id'), table_name='layouts')
    op.drop_index('ix_layouts_tenant_deleted', table_name='layouts')
    op.drop_index('ix_layouts_tenant_active', table_name='layouts')
    op.drop_index(op.f('ix_layouts_is_deleted'), table_name='layouts')
    op.drop_index(op.f('ix_layouts_is_active'), table_name='layouts')
    op.drop_index(op.f('ix_layouts_file_id'), table_name='layouts')
    op.drop_index(op.f('ix_layouts_design_mode'), table_name='layouts')
    op.drop_table('layouts')
    op.drop_index('ix_attachment_links_unique', table_name='attachment_links')
    op.drop_index('ix_attachment_links_type', table_name='attachment_links')
    op.drop_index(op.f('ix_attachment_links_tenant_id'), table_name='attachment_links')
    op.drop_index('ix_attachment_links_tenant_file', table_name='attachment_links')
    op.drop_index('ix_attachment_links_tenant_entity', table_name='attachment_links')
    op.drop_index(op.f('ix_attachment_links_file_upload_id'), table_name='attachment_links')
    op.drop_index(op.f('ix_attachment_links_entity_type'), table_name='attachment_links')
    op.drop_index(op.f('ix_attachment_links_entity_id'), table_name='attachment_links')
    op.drop_index('ix_attachment_links_entity', table_name='attachment_links')
    op.drop_index(op.f('ix_attachment_links_attachment_type'), table_name='attachment_links')
    op.drop_table('attachment_links')
    op.drop_index(op.f('ix_venues_tenant_id'), table_name='venues')
    op.drop_index('ix_venues_tenant_deleted', table_name='venues')
    op.drop_index('ix_venues_tenant_code', table_name='venues')
    op.drop_index('ix_venues_tenant_active', table_name='venues')
    op.drop_index(op.f('ix_venues_is_deleted'), table_name='venues')
    op.drop_index(op.f('ix_venues_is_active'), table_name='venues')
    op.drop_index(op.f('ix_venues_code'), table_name='venues')
    op.drop_table('venues')
    op.drop_index(op.f('ix_venue_types_tenant_id'), table_name='venue_types')
    op.drop_index('ix_venue_types_tenant_deleted', table_name='venue_types')
    op.drop_index('ix_venue_types_tenant_code', table_name='venue_types')
    op.drop_index('ix_venue_types_tenant_active', table_name='venue_types')
    op.drop_index(op.f('ix_venue_types_is_deleted'), table_name='venue_types')
    op.drop_index(op.f('ix_venue_types_is_active'), table_name='venue_types')
    op.drop_index(op.f('ix_venue_types_code'), table_name='venue_types')
    op.drop_table('venue_types')
    op.drop_index(op.f('ix_users_cache_tenant_id'), table_name='users_cache')
    op.drop_index('ix_users_cache_tenant_email', table_name='users_cache')
    op.drop_index('ix_users_cache_tenant_active', table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_synced_at'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_role'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_name'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_is_active'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_email'), table_name='users_cache')
    op.drop_table('users_cache')
    op.drop_index(op.f('ix_users_username'), table_name='users')
    op.drop_index('ix_users_tenant_username', table_name='users')
    op.drop_index(op.f('ix_users_tenant_id'), table_name='users')
    op.drop_index('ix_users_tenant_email', table_name='users')
    op.drop_index(op.f('ix_users_last_name'), table_name='users')
    op.drop_index(op.f('ix_users_id'), table_name='users')
    op.drop_index(op.f('ix_users_first_name'), table_name='users')
    op.drop_index(op.f('ix_users_email'), table_name='users')
    op.drop_index(op.f('ix_users_base_role'), table_name='users')
    op.drop_table('users')
    op.drop_index('ix_user_roles_user_tenant', table_name='user_roles')
    op.drop_index('ix_user_roles_user_role', table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_user_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_tenant_id'), table_name='user_roles')
    op.drop_index('ix_user_roles_role_tenant', table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_role_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_id'), table_name='user_roles')
    op.drop_table('user_roles')
    op.drop_index('ix_user_preferences_user_tenant', table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_user_id'), table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_tenant_id'), table_name='user_preferences')
    op.drop_index('ix_user_preferences_tenant', table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_id'), table_name='user_preferences')
    op.drop_table('user_preferences')
    op.drop_index('ix_user_groups_user_tenant', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_user_id'), table_name='user_groups')
    op.drop_index('ix_user_groups_user_group', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_tenant_id'), table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_id'), table_name='user_groups')
    op.drop_index('ix_user_groups_group_tenant', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_group_id'), table_name='user_groups')
    op.drop_table('user_groups')
    op.drop_index('ix_ui_schemas_tenant_status', table_name='ui_schemas')
    op.drop_index('ix_ui_schemas_tenant_name_version', table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_tenant_id'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_status'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_name'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_id'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_created_by'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_created_at'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_category'), table_name='ui_schemas')
    op.drop_table('ui_schemas')
    op.drop_index('ix_ui_schema_versions_schema_version', table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_schema_id'), table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_id'), table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_created_at'), table_name='ui_schema_versions')
    op.drop_table('ui_schema_versions')
    op.drop_index('ix_ui_pages_tenant_route', table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_tenant_id'), table_name='ui_pages')
    op.drop_index('ix_ui_pages_tenant_active', table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_schema_id'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_route_path'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_is_active'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_id'), table_name='ui_pages')
    op.drop_table('ui_pages')
    op.drop_index('ix_ui_custom_components_tenant_type', table_name='ui_custom_components')
    op.drop_index('ix_ui_custom_components_tenant_name', table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_tenant_id'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_is_active'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_id'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_component_type'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_category'), table_name='ui_custom_components')
    op.drop_table('ui_custom_components')
    op.drop_index(op.f('ix_tenants_slug'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_name'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_is_active'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_id'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_database_strategy'), table_name='tenants')
    op.drop_table('tenants')
    op.drop_index(op.f('ix_tenant_subscriptions_tenant_id'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_status'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_plan_tier'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_is_locked'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_id'), table_name='tenant_subscriptions')
    op.drop_table('tenant_subscriptions')
    op.drop_index(op.f('ix_tags_tenant_id'), table_name='tags')
    op.drop_index('ix_tags_tenant_entity_name', table_name='tags')
    op.drop_index('ix_tags_tenant_entity', table_name='tags')
    op.drop_index('ix_tags_tenant_active', table_name='tags')
    op.drop_index(op.f('ix_tags_name'), table_name='tags')
    op.drop_index(op.f('ix_tags_is_active'), table_name='tags')
    op.drop_index(op.f('ix_tags_entity_type'), table_name='tags')
    op.drop_table('tags')
    op.drop_index('ix_sessions_user_tenant', table_name='sessions')
    op.drop_index('ix_sessions_user_status', table_name='sessions')
    op.drop_index(op.f('ix_sessions_user_id'), table_name='sessions')
    op.drop_index('ix_sessions_tenant_status', table_name='sessions')
    op.drop_index(op.f('ix_sessions_tenant_id'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_status'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_last_activity_at'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_ip_address'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_id'), table_name='sessions')
    op.drop_index('ix_sessions_expires_at', table_name='sessions')
    op.drop_index(op.f('ix_sessions_device_type'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_created_at'), table_name='sessions')
    op.drop_table('sessions')
    op.drop_index('ix_sequences_tenant_type', table_name='sequences')
    op.drop_index(op.f('ix_sequences_tenant_id'), table_name='sequences')
    op.drop_index(op.f('ix_sequences_sequence_type'), table_name='sequences')
    op.drop_table('sequences')
    op.drop_index('ix_roles_tenant_name', table_name='roles')
    op.drop_index(op.f('ix_roles_tenant_id'), table_name='roles')
    op.drop_index('ix_roles_tenant_active', table_name='roles')
    op.drop_index(op.f('ix_roles_name'), table_name='roles')
    op.drop_index(op.f('ix_roles_is_active'), table_name='roles')
    op.drop_index(op.f('ix_roles_id'), table_name='roles')
    op.drop_table('roles')
    op.drop_index(op.f('ix_organizers_tenant_id'), table_name='organizers')
    op.drop_index('ix_organizers_tenant_deleted', table_name='organizers')
    op.drop_index('ix_organizers_tenant_code', table_name='organizers')
    op.drop_index('ix_organizers_tenant_active', table_name='organizers')
    op.drop_index(op.f('ix_organizers_is_deleted'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_is_active'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_email'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_code'), table_name='organizers')
    op.drop_index(op.f('ix_organizers_city'), table_name='organizers')
    op.drop_table('organizers')
    op.drop_index('ix_groups_tenant_name', table_name='groups')
    op.drop_index(op.f('ix_groups_tenant_id'), table_name='groups')
    op.drop_index('ix_groups_tenant_active', table_name='groups')
    op.drop_index(op.f('ix_groups_name'), table_name='groups')
    op.drop_index(op.f('ix_groups_is_active'), table_name='groups')
    op.drop_index(op.f('ix_groups_id'), table_name='groups')
    op.drop_table('groups')
    op.drop_index(op.f('ix_group_roles_tenant_id'), table_name='group_roles')
    op.drop_index('ix_group_roles_role_tenant', table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_role_id'), table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_id'), table_name='group_roles')
    op.drop_index('ix_group_roles_group_tenant', table_name='group_roles')
    op.drop_index('ix_group_roles_group_role', table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_group_id'), table_name='group_roles')
    op.drop_table('group_roles')
    op.drop_index('ix_file_uploads_uploaded_by', table_name='file_uploads')
    op.drop_index(op.f('ix_file_uploads_uploaded_at'), table_name='file_uploads')
    op.drop_index(op.f('ix_file_uploads_tenant_id'), table_name='file_uploads')
    op.drop_index('ix_file_uploads_filename', table_name='file_uploads')
    op.drop_table('file_uploads')
    op.drop_index(op.f('ix_event_types_tenant_id'), table_name='event_types')
    op.drop_index('ix_event_types_tenant_deleted', table_name='event_types')
    op.drop_index('ix_event_types_tenant_code', table_name='event_types')
    op.drop_index('ix_event_types_tenant_active', table_name='event_types')
    op.drop_index(op.f('ix_event_types_is_deleted'), table_name='event_types')
    op.drop_index(op.f('ix_event_types_is_active'), table_name='event_types')
    op.drop_index(op.f('ix_event_types_code'), table_name='event_types')
    op.drop_table('event_types')
    op.drop_index(op.f('ix_employees_work_email'), table_name='employees')
    op.drop_index(op.f('ix_employees_user_id'), table_name='employees')
    op.drop_index(op.f('ix_employees_tenant_id'), table_name='employees')
    op.drop_index('ix_employees_tenant_department', table_name='employees')
    op.drop_index('ix_employees_tenant_deleted', table_name='employees')
    op.drop_index('ix_employees_tenant_code', table_name='employees')
    op.drop_index('ix_employees_tenant_active', table_name='employees')
    op.drop_index(op.f('ix_employees_manager_id'), table_name='employees')
    op.drop_index('ix_employees_manager', table_name='employees')
    op.drop_index(op.f('ix_employees_is_deleted'), table_name='employees')
    op.drop_index(op.f('ix_employees_is_active'), table_name='employees')
    op.drop_index(op.f('ix_employees_department'), table_name='employees')
    op.drop_index(op.f('ix_employees_code'), table_name='employees')
    op.drop_table('employees')
    op.drop_index(op.f('ix_customers_tenant_id'), table_name='customers')
    op.drop_index('ix_customers_tenant_email', table_name='customers')
    op.drop_index('ix_customers_tenant_code', table_name='customers')
    op.drop_index('ix_customers_tenant_active', table_name='customers')
    op.drop_index(op.f('ix_customers_sales_representative_id'), table_name='customers')
    op.drop_index(op.f('ix_customers_name'), table_name='customers')
    op.drop_index(op.f('ix_customers_is_active'), table_name='customers')
    op.drop_index(op.f('ix_customers_email'), table_name='customers')
    op.drop_index(op.f('ix_customers_code'), table_name='customers')
    op.drop_index(op.f('ix_customers_city'), table_name='customers')
    op.drop_index(op.f('ix_customers_account_manager_id'), table_name='customers')
    op.drop_table('customers')
    op.drop_index(op.f('ix_customer_types_tenant_id'), table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_deleted', table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_code', table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_active', table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_is_deleted'), table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_is_active'), table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_code'), table_name='customer_types')
    op.drop_table('customer_types')
    op.drop_index(op.f('ix_customer_groups_tenant_id'), table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_deleted', table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_code', table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_active', table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_parent_id'), table_name='customer_groups')
    op.drop_index('ix_customer_groups_parent', table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_level'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_is_deleted'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_is_active'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_code'), table_name='customer_groups')
    op.drop_table('customer_groups')
    op.drop_index(op.f('ix_audit_logs_user_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_user', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_tenant_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_tenant_event_timestamp', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_severity'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_parent_entity_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_parent_entity', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_is_sensitive'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_is_pii'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_event_type', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_event_id'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_entity_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_entity', table_name='audit_logs')
    op.drop_table('audit_logs')
    # ### end Alembic commands ###

