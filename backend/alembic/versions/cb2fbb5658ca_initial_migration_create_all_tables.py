"""Initial migration - create all tables

Revision ID: cb2fbb5658ca
Revises: 
Create Date: 2025-12-13 15:27:55.554901

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = 'cb2fbb5658ca'
down_revision = None
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('addresses',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('street', sa.String(), nullable=True),
    sa.Column('city', sa.String(), nullable=True),
    sa.Column('state', sa.String(), nullable=True),
    sa.Column('postal_code', sa.String(), nullable=True),
    sa.Column('country', sa.String(), nullable=True),
    sa.Column('notes', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_addresses_tenant_id', 'addresses', ['tenant_id'], unique=False)
    op.create_table('audit_logs',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('event_id', sa.String(), nullable=False),
    sa.Column('timestamp', sa.DateTime(timezone=True), server_default='NOW()', nullable=True),
    sa.Column('event_type', sa.String(), nullable=False),
    sa.Column('severity', sa.String(), nullable=False),
    sa.Column('entity_type', sa.String(), nullable=False),
    sa.Column('entity_id', sa.String(), nullable=False),
    sa.Column('user_id', sa.String(), nullable=True),
    sa.Column('user_email', sa.String(), nullable=True),
    sa.Column('session_id', sa.String(), nullable=True),
    sa.Column('request_id', sa.String(), nullable=True),
    sa.Column('ip_address', postgresql.INET(), nullable=True),
    sa.Column('user_agent', sa.String(), nullable=True),
    sa.Column('old_values', sa.JSON(), nullable=True),
    sa.Column('new_values', sa.JSON(), nullable=True),
    sa.Column('changed_fields', sa.ARRAY(sa.String()), nullable=True),
    sa.Column('description', sa.String(), nullable=False),
    sa.Column('metadata_json', sa.JSON(), nullable=True),
    sa.Column('retention_period_days', sa.Integer(), nullable=False),
    sa.Column('is_pii', sa.Boolean(), nullable=False),
    sa.Column('is_sensitive', sa.Boolean(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_audit_logs_entity', 'audit_logs', ['entity_type', 'entity_id', 'timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_entity_id'), 'audit_logs', ['entity_id'], unique=False)
    op.create_index(op.f('ix_audit_logs_event_id'), 'audit_logs', ['event_id'], unique=True)
    op.create_index('ix_audit_logs_event_type', 'audit_logs', ['event_type', 'timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_is_pii'), 'audit_logs', ['is_pii'], unique=False)
    op.create_index(op.f('ix_audit_logs_is_sensitive'), 'audit_logs', ['is_sensitive'], unique=False)
    op.create_index(op.f('ix_audit_logs_severity'), 'audit_logs', ['severity'], unique=False)
    op.create_index(op.f('ix_audit_logs_tenant_id'), 'audit_logs', ['tenant_id'], unique=False)
    op.create_index('ix_audit_logs_tenant_timestamp', 'audit_logs', ['tenant_id', 'timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_timestamp'), 'audit_logs', ['timestamp'], unique=False)
    op.create_index('ix_audit_logs_user', 'audit_logs', ['user_id', 'timestamp'], unique=False)
    op.create_index(op.f('ix_audit_logs_user_id'), 'audit_logs', ['user_id'], unique=False)
    op.create_table('barcodes',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('barcode', sa.String(), nullable=False),
    sa.Column('uom_code', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_barcodes_barcode'), 'barcodes', ['barcode'], unique=False)
    op.create_index('ix_barcodes_item', 'barcodes', ['tenant_id', 'item_id'], unique=False)
    op.create_index(op.f('ix_barcodes_item_id'), 'barcodes', ['item_id'], unique=False)
    op.create_index('ix_barcodes_tenant_code', 'barcodes', ['tenant_id', 'barcode'], unique=True)
    op.create_index(op.f('ix_barcodes_tenant_id'), 'barcodes', ['tenant_id'], unique=False)
    op.create_table('cost_layers',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=False),
    sa.Column('lot_id', sa.String(), nullable=True),
    sa.Column('received_tx_id', sa.String(), nullable=False),
    sa.Column('quantity_on_hand', sa.Numeric(), nullable=False),
    sa.Column('cost_per_unit', sa.Numeric(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_cost_layers_item_id'), 'cost_layers', ['item_id'], unique=False)
    op.create_index('ix_cost_layers_lookup', 'cost_layers', ['tenant_id', 'item_id', 'warehouse_id'], unique=False)
    op.create_index(op.f('ix_cost_layers_tenant_id'), 'cost_layers', ['tenant_id'], unique=False)
    op.create_table('cost_variances',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('variance_type', sa.String(), nullable=False),
    sa.Column('source_tx_id', sa.String(), nullable=True),
    sa.Column('source_ref_type', sa.String(), nullable=True),
    sa.Column('source_ref_id', sa.String(), nullable=True),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=False),
    sa.Column('standard_cost_per_unit', sa.Numeric(), nullable=False),
    sa.Column('actual_cost_per_unit', sa.Numeric(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('variance_amount', sa.Numeric(), nullable=False),
    sa.Column('account_code', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_cost_variances_item', 'cost_variances', ['tenant_id', 'item_id', 'warehouse_id', 'created_at'], unique=False)
    op.create_index(op.f('ix_cost_variances_item_id'), 'cost_variances', ['item_id'], unique=False)
    op.create_index(op.f('ix_cost_variances_tenant_id'), 'cost_variances', ['tenant_id'], unique=False)
    op.create_index('ix_cost_variances_tx', 'cost_variances', ['tenant_id', 'source_tx_id'], unique=False)
    op.create_index('ix_cost_variances_type', 'cost_variances', ['tenant_id', 'variance_type', 'created_at'], unique=False)
    op.create_table('customer_groups',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('parent_id', sa.String(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_id'], ['customer_groups.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_customer_groups_code'), 'customer_groups', ['code'], unique=False)
    op.create_index(op.f('ix_customer_groups_is_active'), 'customer_groups', ['is_active'], unique=False)
    op.create_index(op.f('ix_customer_groups_is_deleted'), 'customer_groups', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_groups_level'), 'customer_groups', ['level'], unique=False)
    op.create_index('ix_customer_groups_parent', 'customer_groups', ['tenant_id', 'parent_id'], unique=False)
    op.create_index(op.f('ix_customer_groups_parent_id'), 'customer_groups', ['parent_id'], unique=False)
    op.create_index('ix_customer_groups_tenant_active', 'customer_groups', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_customer_groups_tenant_code', 'customer_groups', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_customer_groups_tenant_deleted', 'customer_groups', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_groups_tenant_id'), 'customer_groups', ['tenant_id'], unique=False)
    op.create_table('customer_types',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_customer_types_code'), 'customer_types', ['code'], unique=False)
    op.create_index(op.f('ix_customer_types_is_active'), 'customer_types', ['is_active'], unique=False)
    op.create_index(op.f('ix_customer_types_is_deleted'), 'customer_types', ['is_deleted'], unique=False)
    op.create_index('ix_customer_types_tenant_active', 'customer_types', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_customer_types_tenant_code', 'customer_types', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_customer_types_tenant_deleted', 'customer_types', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_customer_types_tenant_id'), 'customer_types', ['tenant_id'], unique=False)
    op.create_table('employees',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_employees_code'), 'employees', ['code'], unique=False)
    op.create_index(op.f('ix_employees_is_active'), 'employees', ['is_active'], unique=False)
    op.create_index(op.f('ix_employees_is_deleted'), 'employees', ['is_deleted'], unique=False)
    op.create_index('ix_employees_tenant_active', 'employees', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_employees_tenant_code', 'employees', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_employees_tenant_deleted', 'employees', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_employees_tenant_id'), 'employees', ['tenant_id'], unique=False)
    op.create_table('group_roles',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('group_id', sa.String(), nullable=False),
    sa.Column('role_id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('added_by', sa.String(), nullable=True),
    sa.Column('added_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_group_roles_group_id'), 'group_roles', ['group_id'], unique=False)
    op.create_index('ix_group_roles_group_role', 'group_roles', ['group_id', 'role_id'], unique=True)
    op.create_index('ix_group_roles_group_tenant', 'group_roles', ['group_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_group_roles_id'), 'group_roles', ['id'], unique=False)
    op.create_index(op.f('ix_group_roles_role_id'), 'group_roles', ['role_id'], unique=False)
    op.create_index('ix_group_roles_role_tenant', 'group_roles', ['role_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_group_roles_tenant_id'), 'group_roles', ['tenant_id'], unique=False)
    op.create_table('groups',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_groups_id'), 'groups', ['id'], unique=False)
    op.create_index(op.f('ix_groups_is_active'), 'groups', ['is_active'], unique=False)
    op.create_index(op.f('ix_groups_name'), 'groups', ['name'], unique=False)
    op.create_index('ix_groups_tenant_active', 'groups', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_groups_tenant_id'), 'groups', ['tenant_id'], unique=False)
    op.create_index('ix_groups_tenant_name', 'groups', ['tenant_id', 'name'], unique=True)
    op.create_table('inventory_reservations',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=False),
    sa.Column('lot_id', sa.String(), nullable=True),
    sa.Column('serial_id', sa.String(), nullable=True),
    sa.Column('source_type', sa.String(), nullable=False),
    sa.Column('source_id', sa.String(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_inv_reservations_item', 'inventory_reservations', ['tenant_id', 'item_id', 'warehouse_id'], unique=False)
    op.create_index('ix_inv_reservations_source', 'inventory_reservations', ['tenant_id', 'source_type', 'source_id'], unique=False)
    op.create_index(op.f('ix_inventory_reservations_item_id'), 'inventory_reservations', ['item_id'], unique=False)
    op.create_index(op.f('ix_inventory_reservations_status'), 'inventory_reservations', ['status'], unique=False)
    op.create_index(op.f('ix_inventory_reservations_tenant_id'), 'inventory_reservations', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_inventory_reservations_warehouse_id'), 'inventory_reservations', ['warehouse_id'], unique=False)
    op.create_table('inventory_tracking',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('tracking_type', sa.String(), nullable=False),
    sa.Column('identifier', sa.String(), nullable=False),
    sa.Column('parent_tracking_id', sa.String(), nullable=True),
    sa.Column('expiration_date', sa.Date(), nullable=True),
    sa.Column('manufacturing_date', sa.Date(), nullable=True),
    sa.Column('supplier_batch', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_tracking_id'], ['inventory_tracking.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_inventory_tracking_item_id'), 'inventory_tracking', ['item_id'], unique=False)
    op.create_index(op.f('ix_inventory_tracking_parent_tracking_id'), 'inventory_tracking', ['parent_tracking_id'], unique=False)
    op.create_index(op.f('ix_inventory_tracking_status'), 'inventory_tracking', ['status'], unique=False)
    op.create_index(op.f('ix_inventory_tracking_tenant_id'), 'inventory_tracking', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_inventory_tracking_tracking_type'), 'inventory_tracking', ['tracking_type'], unique=False)
    op.create_index('ix_tracking_expiration', 'inventory_tracking', ['tenant_id', 'expiration_date'], unique=False)
    op.create_index('ix_tracking_parent', 'inventory_tracking', ['tenant_id', 'parent_tracking_id'], unique=False)
    op.create_index('ix_tracking_status', 'inventory_tracking', ['tenant_id', 'status'], unique=False)
    op.create_index('ix_tracking_tenant_item_type_id', 'inventory_tracking', ['tenant_id', 'item_id', 'tracking_type', 'identifier'], unique=True)
    op.create_index('ix_tracking_type', 'inventory_tracking', ['tenant_id', 'tracking_type'], unique=False)
    op.create_table('item_categories',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('parent_category_id', sa.String(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_category_id'], ['item_categories.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_item_categories_active', 'item_categories', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_item_categories_attributes', 'item_categories', ['attributes'], unique=False, postgresql_using='gin')
    op.create_index(op.f('ix_item_categories_is_active'), 'item_categories', ['is_active'], unique=False)
    op.create_index(op.f('ix_item_categories_level'), 'item_categories', ['level'], unique=False)
    op.create_index('ix_item_categories_parent', 'item_categories', ['tenant_id', 'parent_category_id'], unique=False)
    op.create_index(op.f('ix_item_categories_parent_category_id'), 'item_categories', ['parent_category_id'], unique=False)
    op.create_index(op.f('ix_item_categories_sort_order'), 'item_categories', ['sort_order'], unique=False)
    op.create_index('ix_item_categories_tenant_code', 'item_categories', ['tenant_id', 'code'], unique=True)
    op.create_index(op.f('ix_item_categories_tenant_id'), 'item_categories', ['tenant_id'], unique=False)
    op.create_table('item_suppliers',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('supplier_id', sa.String(), nullable=False),
    sa.Column('supplier_sku', sa.String(), nullable=True),
    sa.Column('lead_time_days', sa.Integer(), nullable=True),
    sa.Column('min_order_qty', sa.Numeric(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_item_suppliers_item', 'item_suppliers', ['tenant_id', 'item_id'], unique=False)
    op.create_index(op.f('ix_item_suppliers_item_id'), 'item_suppliers', ['item_id'], unique=False)
    op.create_index('ix_item_suppliers_supplier', 'item_suppliers', ['tenant_id', 'supplier_id'], unique=False)
    op.create_index(op.f('ix_item_suppliers_supplier_id'), 'item_suppliers', ['supplier_id'], unique=False)
    op.create_index(op.f('ix_item_suppliers_tenant_id'), 'item_suppliers', ['tenant_id'], unique=False)
    op.create_index('ix_item_suppliers_unique', 'item_suppliers', ['tenant_id', 'item_id', 'supplier_id'], unique=True)
    op.create_table('item_uom_mappings',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('context', sa.Enum('DEFAULT', 'PURCHASE', 'SALE', 'PRODUCTION', 'TRANSFER', 'TRANSPORT', 'STORAGE', name='uomcontextenum', native_enum=False), nullable=True),
    sa.Column('uom_code', sa.String(), nullable=False),
    sa.Column('conversion_factor', sa.Numeric(), nullable=False),
    sa.Column('is_primary', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_item_uom_context', 'item_uom_mappings', ['tenant_id', 'context'], unique=False)
    op.create_index('ix_item_uom_item', 'item_uom_mappings', ['tenant_id', 'item_id'], unique=False)
    op.create_index('ix_item_uom_item_context_uom', 'item_uom_mappings', ['tenant_id', 'item_id', 'context', 'uom_code'], unique=True)
    op.create_index(op.f('ix_item_uom_mappings_context'), 'item_uom_mappings', ['context'], unique=False)
    op.create_index(op.f('ix_item_uom_mappings_is_primary'), 'item_uom_mappings', ['is_primary'], unique=False)
    op.create_index(op.f('ix_item_uom_mappings_item_id'), 'item_uom_mappings', ['item_id'], unique=False)
    op.create_index(op.f('ix_item_uom_mappings_tenant_id'), 'item_uom_mappings', ['tenant_id'], unique=False)
    op.create_table('lots',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('lot_number', sa.String(), nullable=False),
    sa.Column('expiration_date', sa.Date(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_lots_expiration', 'lots', ['tenant_id', 'expiration_date'], unique=False)
    op.create_index(op.f('ix_lots_item_id'), 'lots', ['item_id'], unique=False)
    op.create_index(op.f('ix_lots_status'), 'lots', ['status'], unique=False)
    op.create_index(op.f('ix_lots_tenant_id'), 'lots', ['tenant_id'], unique=False)
    op.create_index('ix_lots_tenant_item_lot', 'lots', ['tenant_id', 'item_id', 'lot_number'], unique=True)
    op.create_table('picking_rules',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=False),
    sa.Column('strategy', sa.String(), nullable=False),
    sa.Column('params', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('enabled', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_picking_rules_enabled'), 'picking_rules', ['enabled'], unique=False)
    op.create_index('ix_picking_rules_strategy', 'picking_rules', ['tenant_id', 'warehouse_id', 'strategy'], unique=False)
    op.create_index(op.f('ix_picking_rules_tenant_id'), 'picking_rules', ['tenant_id'], unique=False)
    op.create_index('ix_picking_rules_warehouse', 'picking_rules', ['tenant_id', 'warehouse_id', 'enabled'], unique=False)
    op.create_index(op.f('ix_picking_rules_warehouse_id'), 'picking_rules', ['warehouse_id'], unique=False)
    op.create_table('putaway_rules',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=False),
    sa.Column('selector', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('target_zone_id', sa.String(), nullable=True),
    sa.Column('target_bin_type', sa.String(), nullable=True),
    sa.Column('priority', sa.Integer(), nullable=False),
    sa.Column('enabled', sa.Boolean(), nullable=False),
    sa.Column('item_ids', postgresql.ARRAY(sa.String()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_putaway_rules_enabled'), 'putaway_rules', ['enabled'], unique=False)
    op.create_index('ix_putaway_rules_priority', 'putaway_rules', ['tenant_id', 'warehouse_id', 'priority'], unique=False)
    op.create_index('ix_putaway_rules_selector', 'putaway_rules', ['selector'], unique=False, postgresql_using='gin')
    op.create_index(op.f('ix_putaway_rules_tenant_id'), 'putaway_rules', ['tenant_id'], unique=False)
    op.create_index('ix_putaway_rules_warehouse', 'putaway_rules', ['tenant_id', 'warehouse_id', 'enabled'], unique=False)
    op.create_index(op.f('ix_putaway_rules_warehouse_id'), 'putaway_rules', ['warehouse_id'], unique=False)
    op.create_table('roles',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('permissions', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_system_role', sa.Boolean(), nullable=False),
    sa.Column('created_by', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_roles_id'), 'roles', ['id'], unique=False)
    op.create_index(op.f('ix_roles_is_active'), 'roles', ['is_active'], unique=False)
    op.create_index(op.f('ix_roles_name'), 'roles', ['name'], unique=False)
    op.create_index('ix_roles_tenant_active', 'roles', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_roles_tenant_id'), 'roles', ['tenant_id'], unique=False)
    op.create_index('ix_roles_tenant_name', 'roles', ['tenant_id', 'name'], unique=True)
    op.create_table('sequences',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('sequence_type', sa.String(), nullable=False),
    sa.Column('prefix', sa.String(), nullable=False),
    sa.Column('digits', sa.Integer(), nullable=False),
    sa.Column('current_value', sa.Integer(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_sequences_sequence_type'), 'sequences', ['sequence_type'], unique=False)
    op.create_index(op.f('ix_sequences_tenant_id'), 'sequences', ['tenant_id'], unique=False)
    op.create_index('ix_sequences_tenant_type', 'sequences', ['tenant_id', 'sequence_type'], unique=True)
    op.create_table('serials',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('serial_number', sa.String(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_serials_item_id'), 'serials', ['item_id'], unique=False)
    op.create_index(op.f('ix_serials_status'), 'serials', ['status'], unique=False)
    op.create_index(op.f('ix_serials_tenant_id'), 'serials', ['tenant_id'], unique=False)
    op.create_index('ix_serials_tenant_item_serial', 'serials', ['tenant_id', 'item_id', 'serial_number'], unique=True)
    op.create_table('sessions',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('user_id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('device_type', sa.String(), nullable=False),
    sa.Column('user_agent', sa.String(), nullable=False),
    sa.Column('ip_address', sa.String(), nullable=False),
    sa.Column('device_name', sa.String(), nullable=True),
    sa.Column('os', sa.String(), nullable=True),
    sa.Column('browser', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('expires_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('last_activity_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('revoked_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('revoked_by', sa.String(), nullable=True),
    sa.Column('revocation_reason', sa.String(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_sessions_created_at'), 'sessions', ['created_at'], unique=False)
    op.create_index(op.f('ix_sessions_device_type'), 'sessions', ['device_type'], unique=False)
    op.create_index('ix_sessions_expires_at', 'sessions', ['expires_at'], unique=False)
    op.create_index(op.f('ix_sessions_id'), 'sessions', ['id'], unique=False)
    op.create_index(op.f('ix_sessions_ip_address'), 'sessions', ['ip_address'], unique=False)
    op.create_index(op.f('ix_sessions_last_activity_at'), 'sessions', ['last_activity_at'], unique=False)
    op.create_index(op.f('ix_sessions_status'), 'sessions', ['status'], unique=False)
    op.create_index(op.f('ix_sessions_tenant_id'), 'sessions', ['tenant_id'], unique=False)
    op.create_index('ix_sessions_tenant_status', 'sessions', ['tenant_id', 'status'], unique=False)
    op.create_index(op.f('ix_sessions_user_id'), 'sessions', ['user_id'], unique=False)
    op.create_index('ix_sessions_user_status', 'sessions', ['user_id', 'status'], unique=False)
    op.create_index('ix_sessions_user_tenant', 'sessions', ['user_id', 'tenant_id'], unique=False)
    op.create_table('standard_costs',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=True),
    sa.Column('effective_date', sa.Date(), nullable=True),
    sa.Column('standard_cost_per_unit', sa.Numeric(), nullable=False),
    sa.Column('currency', sa.String(), nullable=False),
    sa.Column('approved_by', sa.String(), nullable=True),
    sa.Column('approved_at', sa.DateTime(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_standard_costs_item_id'), 'standard_costs', ['item_id'], unique=False)
    op.create_index('ix_standard_costs_lookup', 'standard_costs', ['tenant_id', 'item_id', 'warehouse_id', 'effective_date'], unique=False)
    op.create_index(op.f('ix_standard_costs_tenant_id'), 'standard_costs', ['tenant_id'], unique=False)
    op.create_index('ix_standard_costs_unique', 'standard_costs', ['tenant_id', 'item_id', 'warehouse_id', 'effective_date'], unique=True)
    op.create_table('store_locations',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('location_type', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=True),
    sa.Column('parent_location_id', sa.String(), nullable=True),
    sa.Column('sub_location_type', sa.String(), nullable=True),
    sa.Column('address', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('bin_type', sa.String(), nullable=True),
    sa.Column('max_weight', sa.Numeric(), nullable=True),
    sa.Column('max_volume', sa.Numeric(), nullable=True),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_location_id'], ['store_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_store_locations_bin_type'), 'store_locations', ['bin_type'], unique=False)
    op.create_index(op.f('ix_store_locations_location_type'), 'store_locations', ['location_type'], unique=False)
    op.create_index('ix_store_locations_parent', 'store_locations', ['tenant_id', 'parent_location_id'], unique=False)
    op.create_index(op.f('ix_store_locations_parent_location_id'), 'store_locations', ['parent_location_id'], unique=False)
    op.create_index(op.f('ix_store_locations_sub_location_type'), 'store_locations', ['sub_location_type'], unique=False)
    op.create_index(op.f('ix_store_locations_tenant_id'), 'store_locations', ['tenant_id'], unique=False)
    op.create_index('ix_store_locations_tenant_type_code', 'store_locations', ['tenant_id', 'location_type', 'code'], unique=True)
    op.create_index('ix_store_locations_type', 'store_locations', ['tenant_id', 'location_type'], unique=False)
    op.create_table('tenant_subscriptions',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('plan_tier', sa.String(), nullable=False),
    sa.Column('billing_cycle', sa.String(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('is_locked', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tenant_subscriptions_id'), 'tenant_subscriptions', ['id'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_is_locked'), 'tenant_subscriptions', ['is_locked'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_plan_tier'), 'tenant_subscriptions', ['plan_tier'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_status'), 'tenant_subscriptions', ['status'], unique=False)
    op.create_index(op.f('ix_tenant_subscriptions_tenant_id'), 'tenant_subscriptions', ['tenant_id'], unique=False)
    op.create_table('tenants',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('slug', sa.String(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('settings', sa.String(), nullable=False),
    sa.Column('database_strategy', sa.String(), nullable=False),
    sa.Column('database_config', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tenants_database_strategy'), 'tenants', ['database_strategy'], unique=False)
    op.create_index(op.f('ix_tenants_id'), 'tenants', ['id'], unique=False)
    op.create_index(op.f('ix_tenants_is_active'), 'tenants', ['is_active'], unique=False)
    op.create_index(op.f('ix_tenants_name'), 'tenants', ['name'], unique=False)
    op.create_index(op.f('ix_tenants_slug'), 'tenants', ['slug'], unique=True)
    op.create_table('test_basics',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_test_basics_code'), 'test_basics', ['code'], unique=False)
    op.create_index(op.f('ix_test_basics_is_active'), 'test_basics', ['is_active'], unique=False)
    op.create_index(op.f('ix_test_basics_is_deleted'), 'test_basics', ['is_deleted'], unique=False)
    op.create_index('ix_test_basics_tenant_active', 'test_basics', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_test_basics_tenant_code', 'test_basics', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_test_basics_tenant_deleted', 'test_basics', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_test_basics_tenant_id'), 'test_basics', ['tenant_id'], unique=False)
    op.create_table('test_entities',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=False),
    sa.Column('price', sa.Numeric(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('deactivated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_test_entities_code'), 'test_entities', ['code'], unique=False)
    op.create_index(op.f('ix_test_entities_is_active'), 'test_entities', ['is_active'], unique=False)
    op.create_index('ix_test_entities_tenant_active', 'test_entities', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_test_entities_tenant_code', 'test_entities', ['tenant_id', 'code'], unique=True)
    op.create_index(op.f('ix_test_entities_tenant_id'), 'test_entities', ['tenant_id'], unique=False)
    op.create_table('test_tree_backends',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_test_tree_backends_code'), 'test_tree_backends', ['code'], unique=False)
    op.create_index(op.f('ix_test_tree_backends_is_active'), 'test_tree_backends', ['is_active'], unique=False)
    op.create_index(op.f('ix_test_tree_backends_is_deleted'), 'test_tree_backends', ['is_deleted'], unique=False)
    op.create_index('ix_test_tree_backends_tenant_active', 'test_tree_backends', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_test_tree_backends_tenant_code', 'test_tree_backends', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_test_tree_backends_tenant_deleted', 'test_tree_backends', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_test_tree_backends_tenant_id'), 'test_tree_backends', ['tenant_id'], unique=False)
    op.create_table('test_trees',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('parent_test_tree_id', sa.String(), nullable=True),
    sa.Column('level', sa.Integer(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['parent_test_tree_id'], ['test_trees.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_test_trees_code'), 'test_trees', ['code'], unique=False)
    op.create_index(op.f('ix_test_trees_is_active'), 'test_trees', ['is_active'], unique=False)
    op.create_index(op.f('ix_test_trees_is_deleted'), 'test_trees', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_test_trees_level'), 'test_trees', ['level'], unique=False)
    op.create_index('ix_test_trees_parent', 'test_trees', ['tenant_id', 'parent_test_tree_id'], unique=False)
    op.create_index(op.f('ix_test_trees_parent_test_tree_id'), 'test_trees', ['parent_test_tree_id'], unique=False)
    op.create_index('ix_test_trees_tenant_active', 'test_trees', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_test_trees_tenant_code', 'test_trees', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_test_trees_tenant_deleted', 'test_trees', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_test_trees_tenant_id'), 'test_trees', ['tenant_id'], unique=False)
    op.create_table('tests',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('deactivated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_tests_code'), 'tests', ['code'], unique=False)
    op.create_index(op.f('ix_tests_is_active'), 'tests', ['is_active'], unique=False)
    op.create_index(op.f('ix_tests_is_deleted'), 'tests', ['is_deleted'], unique=False)
    op.create_index('ix_tests_tenant_active', 'tests', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_tests_tenant_code', 'tests', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_tests_tenant_deleted', 'tests', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_tests_tenant_id'), 'tests', ['tenant_id'], unique=False)
    op.create_table('ui_custom_components',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('display_name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('category', sa.String(), nullable=False),
    sa.Column('icon', sa.String(), nullable=True),
    sa.Column('component_type', sa.String(), nullable=False),
    sa.Column('schema_definition', sa.JSON(), nullable=True),
    sa.Column('default_props', sa.JSON(), nullable=True),
    sa.Column('code_implementation', sa.String(), nullable=True),
    sa.Column('is_system', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_by', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_custom_components_category'), 'ui_custom_components', ['category'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_component_type'), 'ui_custom_components', ['component_type'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_id'), 'ui_custom_components', ['id'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_is_active'), 'ui_custom_components', ['is_active'], unique=False)
    op.create_index(op.f('ix_ui_custom_components_tenant_id'), 'ui_custom_components', ['tenant_id'], unique=False)
    op.create_index('ix_ui_custom_components_tenant_name', 'ui_custom_components', ['tenant_id', 'name'], unique=True)
    op.create_index('ix_ui_custom_components_tenant_type', 'ui_custom_components', ['tenant_id', 'component_type'], unique=False)
    op.create_table('ui_pages',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('schema_id', sa.String(), nullable=False),
    sa.Column('route_path', sa.String(), nullable=False),
    sa.Column('title', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('icon', sa.String(), nullable=True),
    sa.Column('permissions', sa.JSON(), nullable=True),
    sa.Column('is_public', sa.Boolean(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('order_index', sa.Integer(), nullable=False),
    sa.Column('parent_id', sa.String(), nullable=True),
    sa.Column('created_by', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_pages_id'), 'ui_pages', ['id'], unique=False)
    op.create_index(op.f('ix_ui_pages_is_active'), 'ui_pages', ['is_active'], unique=False)
    op.create_index(op.f('ix_ui_pages_route_path'), 'ui_pages', ['route_path'], unique=False)
    op.create_index(op.f('ix_ui_pages_schema_id'), 'ui_pages', ['schema_id'], unique=False)
    op.create_index('ix_ui_pages_tenant_active', 'ui_pages', ['tenant_id', 'is_active'], unique=False)
    op.create_index(op.f('ix_ui_pages_tenant_id'), 'ui_pages', ['tenant_id'], unique=False)
    op.create_index('ix_ui_pages_tenant_route', 'ui_pages', ['tenant_id', 'route_path'], unique=True)
    op.create_table('ui_schema_versions',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('schema_id', sa.String(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('schema_data', sa.JSON(), nullable=True),
    sa.Column('change_summary', sa.String(), nullable=True),
    sa.Column('created_by', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_schema_versions_created_at'), 'ui_schema_versions', ['created_at'], unique=False)
    op.create_index(op.f('ix_ui_schema_versions_id'), 'ui_schema_versions', ['id'], unique=False)
    op.create_index(op.f('ix_ui_schema_versions_schema_id'), 'ui_schema_versions', ['schema_id'], unique=False)
    op.create_index('ix_ui_schema_versions_schema_version', 'ui_schema_versions', ['schema_id', 'version'], unique=True)
    op.create_table('ui_schemas',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('display_name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('category', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('schema_data', sa.JSON(), nullable=True),
    sa.Column('metadata_json', sa.JSON(), nullable=True),
    sa.Column('created_by', sa.String(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_by', sa.String(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('published_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ui_schemas_category'), 'ui_schemas', ['category'], unique=False)
    op.create_index(op.f('ix_ui_schemas_created_at'), 'ui_schemas', ['created_at'], unique=False)
    op.create_index(op.f('ix_ui_schemas_created_by'), 'ui_schemas', ['created_by'], unique=False)
    op.create_index(op.f('ix_ui_schemas_id'), 'ui_schemas', ['id'], unique=False)
    op.create_index(op.f('ix_ui_schemas_name'), 'ui_schemas', ['name'], unique=False)
    op.create_index(op.f('ix_ui_schemas_status'), 'ui_schemas', ['status'], unique=False)
    op.create_index(op.f('ix_ui_schemas_tenant_id'), 'ui_schemas', ['tenant_id'], unique=False)
    op.create_index('ix_ui_schemas_tenant_name_version', 'ui_schemas', ['tenant_id', 'name', 'version'], unique=True)
    op.create_index('ix_ui_schemas_tenant_status', 'ui_schemas', ['tenant_id', 'status'], unique=False)
    op.create_table('units_of_measure',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('base_uom', sa.String(), nullable=False),
    sa.Column('conversion_factor', sa.Numeric(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_units_of_measure_code'), 'units_of_measure', ['code'], unique=False)
    op.create_index(op.f('ix_units_of_measure_tenant_id'), 'units_of_measure', ['tenant_id'], unique=False)
    op.create_index('ix_uom_tenant_code', 'units_of_measure', ['tenant_id', 'code'], unique=True)
    op.create_table('user_groups',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('user_id', sa.String(), nullable=False),
    sa.Column('group_id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('added_by', sa.String(), nullable=True),
    sa.Column('added_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_groups_group_id'), 'user_groups', ['group_id'], unique=False)
    op.create_index('ix_user_groups_group_tenant', 'user_groups', ['group_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_user_groups_id'), 'user_groups', ['id'], unique=False)
    op.create_index(op.f('ix_user_groups_tenant_id'), 'user_groups', ['tenant_id'], unique=False)
    op.create_index('ix_user_groups_user_group', 'user_groups', ['user_id', 'group_id'], unique=True)
    op.create_index(op.f('ix_user_groups_user_id'), 'user_groups', ['user_id'], unique=False)
    op.create_index('ix_user_groups_user_tenant', 'user_groups', ['user_id', 'tenant_id'], unique=False)
    op.create_table('user_preferences',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('user_id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('preferences', sa.JSON(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_preferences_id'), 'user_preferences', ['id'], unique=False)
    op.create_index('ix_user_preferences_tenant', 'user_preferences', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_preferences_tenant_id'), 'user_preferences', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_preferences_user_id'), 'user_preferences', ['user_id'], unique=False)
    op.create_index('ix_user_preferences_user_tenant', 'user_preferences', ['user_id', 'tenant_id'], unique=True)
    op.create_table('user_roles',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('user_id', sa.String(), nullable=False),
    sa.Column('role_id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('assigned_by', sa.String(), nullable=True),
    sa.Column('assigned_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_user_roles_id'), 'user_roles', ['id'], unique=False)
    op.create_index(op.f('ix_user_roles_role_id'), 'user_roles', ['role_id'], unique=False)
    op.create_index('ix_user_roles_role_tenant', 'user_roles', ['role_id', 'tenant_id'], unique=False)
    op.create_index(op.f('ix_user_roles_tenant_id'), 'user_roles', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_user_roles_user_id'), 'user_roles', ['user_id'], unique=False)
    op.create_index('ix_user_roles_user_role', 'user_roles', ['user_id', 'role_id'], unique=True)
    op.create_index('ix_user_roles_user_tenant', 'user_roles', ['user_id', 'tenant_id'], unique=False)
    op.create_table('users',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('username', sa.String(), nullable=False),
    sa.Column('first_name', sa.String(), nullable=False),
    sa.Column('last_name', sa.String(), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('hashed_password', sa.String(), nullable=False),
    sa.Column('base_role', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_verified', sa.Boolean(), nullable=False),
    sa.Column('must_change_password', sa.Boolean(), nullable=False),
    sa.Column('last_login', sa.DateTime(timezone=True), nullable=True),
    sa.Column('last_password_change', sa.DateTime(timezone=True), nullable=True),
    sa.Column('failed_login_attempts', sa.Integer(), nullable=False),
    sa.Column('locked_until', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=False),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_base_role'), 'users', ['base_role'], unique=False)
    op.create_index(op.f('ix_users_email'), 'users', ['email'], unique=False)
    op.create_index(op.f('ix_users_first_name'), 'users', ['first_name'], unique=False)
    op.create_index(op.f('ix_users_id'), 'users', ['id'], unique=False)
    op.create_index(op.f('ix_users_last_name'), 'users', ['last_name'], unique=False)
    op.create_index('ix_users_tenant_email', 'users', ['tenant_id', 'email'], unique=True)
    op.create_index(op.f('ix_users_tenant_id'), 'users', ['tenant_id'], unique=False)
    op.create_index('ix_users_tenant_username', 'users', ['tenant_id', 'username'], unique=True)
    op.create_index(op.f('ix_users_username'), 'users', ['username'], unique=False)
    op.create_table('users_cache',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('email', sa.String(), nullable=False),
    sa.Column('role', sa.String(), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('synced_at', sa.DateTime(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_cache_email'), 'users_cache', ['email'], unique=False)
    op.create_index(op.f('ix_users_cache_is_active'), 'users_cache', ['is_active'], unique=False)
    op.create_index(op.f('ix_users_cache_name'), 'users_cache', ['name'], unique=False)
    op.create_index(op.f('ix_users_cache_role'), 'users_cache', ['role'], unique=False)
    op.create_index(op.f('ix_users_cache_synced_at'), 'users_cache', ['synced_at'], unique=False)
    op.create_index('ix_users_cache_tenant_active', 'users_cache', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_users_cache_tenant_email', 'users_cache', ['tenant_id', 'email'], unique=False)
    op.create_index(op.f('ix_users_cache_tenant_id'), 'users_cache', ['tenant_id'], unique=False)
    op.create_table('vehicles',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('vehicle_type', sa.Enum('LORY', 'FORKLIFT', 'PALLET_JACK', 'REACH_TRUCK', 'CART', 'TUGGER', 'AMR_ROBOT', name='vehicletypeenum', native_enum=False), nullable=True),
    sa.Column('status', sa.Enum('AVAILABLE', 'BUSY', 'UNDER_MAINTENANCE', name='vehiclestatusenum', native_enum=False), nullable=True),
    sa.Column('capacity_load_weight', sa.Float(), nullable=True),
    sa.Column('capacity_pallet_count', sa.Integer(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_vehicles_code'), 'vehicles', ['code'], unique=False)
    op.create_index(op.f('ix_vehicles_is_active'), 'vehicles', ['is_active'], unique=False)
    op.create_index(op.f('ix_vehicles_is_deleted'), 'vehicles', ['is_deleted'], unique=False)
    op.create_index(op.f('ix_vehicles_status'), 'vehicles', ['status'], unique=False)
    op.create_index('ix_vehicles_tenant_active', 'vehicles', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_vehicles_tenant_code', 'vehicles', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_vehicles_tenant_deleted', 'vehicles', ['tenant_id', 'is_deleted'], unique=False)
    op.create_index(op.f('ix_vehicles_tenant_id'), 'vehicles', ['tenant_id'], unique=False)
    op.create_index('ix_vehicles_tenant_status', 'vehicles', ['tenant_id', 'status'], unique=False)
    op.create_index(op.f('ix_vehicles_vehicle_type'), 'vehicles', ['vehicle_type'], unique=False)
    op.create_table('vendors',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('legal_name', sa.String(), nullable=True),
    sa.Column('contact_email', sa.String(), nullable=True),
    sa.Column('phone', sa.String(), nullable=True),
    sa.Column('phone1', sa.String(), nullable=True),
    sa.Column('phone2', sa.String(), nullable=True),
    sa.Column('address_id', sa.String(), nullable=True),
    sa.Column('billing_address_id', sa.String(), nullable=True),
    sa.Column('payment_terms', sa.String(), nullable=True),
    sa.Column('currency', sa.String(length=3), nullable=True),
    sa.Column('notes', sa.String(), nullable=True),
    sa.Column('remarks', sa.String(), nullable=True),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('deactivated_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_vendors_code'), 'vendors', ['code'], unique=False)
    op.create_index(op.f('ix_vendors_contact_email'), 'vendors', ['contact_email'], unique=False)
    op.create_index(op.f('ix_vendors_is_active'), 'vendors', ['is_active'], unique=False)
    op.create_index('ix_vendors_tenant_active', 'vendors', ['tenant_id', 'is_active'], unique=False)
    op.create_index('ix_vendors_tenant_code', 'vendors', ['tenant_id', 'code'], unique=True)
    op.create_index('ix_vendors_tenant_contact_email', 'vendors', ['tenant_id', 'contact_email'], unique=False, postgresql_where=sa.text('contact_email IS NOT NULL'))
    op.create_index(op.f('ix_vendors_tenant_id'), 'vendors', ['tenant_id'], unique=False)
    op.create_table('address_assignments',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('address_id', sa.String(), nullable=False),
    sa.Column('entity_type', sa.String(), nullable=False),
    sa.Column('entity_id', sa.String(), nullable=False),
    sa.Column('address_type', sa.String(), nullable=False),
    sa.Column('is_primary', sa.Boolean(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['address_id'], ['addresses.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_address_assignments_address_id'), 'address_assignments', ['address_id'], unique=False)
    op.create_index(op.f('ix_address_assignments_address_type'), 'address_assignments', ['address_type'], unique=False)
    op.create_index(op.f('ix_address_assignments_entity_id'), 'address_assignments', ['entity_id'], unique=False)
    op.create_index(op.f('ix_address_assignments_entity_type'), 'address_assignments', ['entity_type'], unique=False)
    op.create_index(op.f('ix_address_assignments_is_primary'), 'address_assignments', ['is_primary'], unique=False)
    op.create_index('ix_address_assignments_primary', 'address_assignments', ['tenant_id', 'entity_type', 'entity_id', 'address_type', 'is_primary'], unique=False)
    op.create_index('ix_address_assignments_tenant_address', 'address_assignments', ['tenant_id', 'address_id'], unique=False)
    op.create_index('ix_address_assignments_tenant_entity', 'address_assignments', ['tenant_id', 'entity_type', 'entity_id'], unique=False)
    op.create_index(op.f('ix_address_assignments_tenant_id'), 'address_assignments', ['tenant_id'], unique=False)
    op.create_table('inventory_balances',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('location_id', sa.String(), nullable=False),
    sa.Column('tracking_id', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['store_locations.id'], ),
    sa.ForeignKeyConstraint(['tracking_id'], ['inventory_tracking.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_inv_balance_location', 'inventory_balances', ['tenant_id', 'location_id'], unique=False)
    op.create_index('ix_inv_balance_lookup', 'inventory_balances', ['tenant_id', 'item_id', 'location_id', 'status'], unique=False)
    op.create_index('ix_inv_balance_tracking', 'inventory_balances', ['tenant_id', 'tracking_id'], unique=False)
    op.create_index(op.f('ix_inventory_balances_item_id'), 'inventory_balances', ['item_id'], unique=False)
    op.create_index(op.f('ix_inventory_balances_location_id'), 'inventory_balances', ['location_id'], unique=False)
    op.create_index(op.f('ix_inventory_balances_status'), 'inventory_balances', ['status'], unique=False)
    op.create_index(op.f('ix_inventory_balances_tenant_id'), 'inventory_balances', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_inventory_balances_tracking_id'), 'inventory_balances', ['tracking_id'], unique=False)
    op.create_table('inventory_transactions',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('occurred_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('type', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('uom', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=True),
    sa.Column('bin_id', sa.String(), nullable=True),
    sa.Column('location_id', sa.String(), nullable=True),
    sa.Column('lot_id', sa.String(), nullable=True),
    sa.Column('serial_id', sa.String(), nullable=True),
    sa.Column('tracking_id', sa.String(), nullable=True),
    sa.Column('cost_per_unit', sa.Numeric(), nullable=True),
    sa.Column('source_ref_type', sa.String(), nullable=True),
    sa.Column('source_ref_id', sa.String(), nullable=True),
    sa.Column('reason_code', sa.String(), nullable=True),
    sa.Column('actor_id', sa.String(), nullable=True),
    sa.Column('idempotency_key', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['store_locations.id'], ),
    sa.ForeignKeyConstraint(['tracking_id'], ['inventory_tracking.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_inv_tx_date', 'inventory_transactions', ['tenant_id', 'occurred_at'], unique=False)
    op.create_index('ix_inv_tx_idempotency', 'inventory_transactions', ['tenant_id', 'idempotency_key'], unique=True)
    op.create_index('ix_inv_tx_item', 'inventory_transactions', ['tenant_id', 'item_id', 'occurred_at'], unique=False)
    op.create_index(op.f('ix_inventory_transactions_item_id'), 'inventory_transactions', ['item_id'], unique=False)
    op.create_index(op.f('ix_inventory_transactions_location_id'), 'inventory_transactions', ['location_id'], unique=False)
    op.create_index(op.f('ix_inventory_transactions_occurred_at'), 'inventory_transactions', ['occurred_at'], unique=False)
    op.create_index(op.f('ix_inventory_transactions_tenant_id'), 'inventory_transactions', ['tenant_id'], unique=False)
    op.create_index(op.f('ix_inventory_transactions_tracking_id'), 'inventory_transactions', ['tracking_id'], unique=False)
    op.create_table('items',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=True),
    sa.Column('sku', sa.String(), nullable=True),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('category_id', sa.String(), nullable=True),
    sa.Column('item_group', sa.String(), nullable=True),
    sa.Column('item_type', sa.Enum('SERVICE', 'PRODUCT', 'RAW_MATERIAL', 'WIP', 'MANUFACTURING_STAGING', 'COMPONENT', 'PACKAGING', 'TOOL', name='itemtypeenum', native_enum=False), nullable=True),
    sa.Column('item_usage', sa.Enum('FOR_SALE', 'INTERNAL_USE', 'MANUFACTURED', 'SAMPLE', name='itemusageenum', native_enum=False), nullable=True),
    sa.Column('tracking_scope', sa.Enum('NONE', 'INVENTORY_ONLY', 'WAREHOUSE_ONLY', 'BOTH', name='trackingscopeenum', native_enum=False), nullable=True),
    sa.Column('default_uom', sa.String(), nullable=False),
    sa.Column('tracking_requirements', postgresql.ARRAY(sa.String()), nullable=True),
    sa.Column('perishable', sa.Boolean(), nullable=False),
    sa.Column('active', sa.Boolean(), nullable=False),
    sa.Column('attributes', postgresql.JSONB(astext_type=sa.Text()), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['category_id'], ['item_categories.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_items_active'), 'items', ['active'], unique=False)
    op.create_index('ix_items_attributes', 'items', ['attributes'], unique=False, postgresql_using='gin')
    op.create_index(op.f('ix_items_category_id'), 'items', ['category_id'], unique=False)
    op.create_index(op.f('ix_items_code'), 'items', ['code'], unique=False)
    op.create_index(op.f('ix_items_item_group'), 'items', ['item_group'], unique=False)
    op.create_index(op.f('ix_items_item_type'), 'items', ['item_type'], unique=False)
    op.create_index(op.f('ix_items_item_usage'), 'items', ['item_usage'], unique=False)
    op.create_index(op.f('ix_items_sku'), 'items', ['sku'], unique=False)
    op.create_index('ix_items_tenant_active', 'items', ['tenant_id', 'active'], unique=False)
    op.create_index('ix_items_tenant_category', 'items', ['tenant_id', 'category_id'], unique=False)
    op.create_index('ix_items_tenant_code', 'items', ['tenant_id', 'code'], unique=True, postgresql_where=sa.text('code IS NOT NULL'))
    op.create_index('ix_items_tenant_group', 'items', ['tenant_id', 'item_group'], unique=False)
    op.create_index(op.f('ix_items_tenant_id'), 'items', ['tenant_id'], unique=False)
    op.create_index('ix_items_tenant_scope', 'items', ['tenant_id', 'tracking_scope'], unique=False)
    op.create_index('ix_items_tenant_sku', 'items', ['tenant_id', 'sku'], unique=True, postgresql_where=sa.text('sku IS NOT NULL'))
    op.create_index('ix_items_tenant_type', 'items', ['tenant_id', 'item_type'], unique=False)
    op.create_index('ix_items_tenant_usage', 'items', ['tenant_id', 'item_usage'], unique=False)
    op.create_index(op.f('ix_items_tracking_scope'), 'items', ['tracking_scope'], unique=False)
    op.create_table('purchase_orders',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('supplier_id', sa.String(), nullable=False),
    sa.Column('warehouse_id', sa.String(), nullable=True),
    sa.Column('po_number', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('currency', sa.String(), nullable=False),
    sa.Column('expected_date', sa.Date(), nullable=True),
    sa.Column('submitted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('submitted_by', sa.String(), nullable=True),
    sa.Column('approved_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('approved_by', sa.String(), nullable=True),
    sa.Column('closed_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('cancelled_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('reference', sa.String(), nullable=True),
    sa.Column('notes', sa.String(), nullable=True),
    sa.Column('created_by', sa.String(), nullable=True),
    sa.Column('payment_terms', sa.String(), nullable=True),
    sa.Column('shipping_address_id', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['shipping_address_id'], ['addresses.id'], ),
    sa.ForeignKeyConstraint(['warehouse_id'], ['store_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_purchase_orders_number_unique', 'purchase_orders', ['tenant_id', 'po_number'], unique=True, postgresql_where=sa.text('po_number IS NOT NULL'))
    op.create_index(op.f('ix_purchase_orders_po_number'), 'purchase_orders', ['po_number'], unique=False)
    op.create_index(op.f('ix_purchase_orders_status'), 'purchase_orders', ['status'], unique=False)
    op.create_index(op.f('ix_purchase_orders_supplier_id'), 'purchase_orders', ['supplier_id'], unique=False)
    op.create_index(op.f('ix_purchase_orders_tenant_id'), 'purchase_orders', ['tenant_id'], unique=False)
    op.create_index('ix_purchase_orders_tenant_status', 'purchase_orders', ['tenant_id', 'status'], unique=False)
    op.create_index('ix_purchase_orders_tenant_supplier', 'purchase_orders', ['tenant_id', 'supplier_id'], unique=False)
    op.create_index('ix_purchase_orders_tenant_wh', 'purchase_orders', ['tenant_id', 'warehouse_id'], unique=False)
    op.create_index(op.f('ix_purchase_orders_warehouse_id'), 'purchase_orders', ['warehouse_id'], unique=False)
    op.create_table('goods_receipts',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('code', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('location_id', sa.String(), nullable=False),
    sa.Column('vendor_id', sa.String(), nullable=True),
    sa.Column('purchase_order_id', sa.String(), nullable=True),
    sa.Column('receipt_number', sa.String(), nullable=True),
    sa.Column('delivery_note', sa.String(), nullable=True),
    sa.Column('bill_of_lading', sa.String(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('received_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('closed_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('cancelled_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('notes', sa.String(), nullable=True),
    sa.Column('version', sa.Integer(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('deleted_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['location_id'], ['store_locations.id'], ),
    sa.ForeignKeyConstraint(['purchase_order_id'], ['purchase_orders.id'], ),
    sa.ForeignKeyConstraint(['vendor_id'], ['vendors.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_goods_receipts_bill_of_lading'), 'goods_receipts', ['bill_of_lading'], unique=False)
    op.create_index(op.f('ix_goods_receipts_code'), 'goods_receipts', ['code'], unique=False)
    op.create_index(op.f('ix_goods_receipts_delivery_note'), 'goods_receipts', ['delivery_note'], unique=False)
    op.create_index(op.f('ix_goods_receipts_is_deleted'), 'goods_receipts', ['is_deleted'], unique=False)
    op.create_index('ix_goods_receipts_location', 'goods_receipts', ['tenant_id', 'location_id'], unique=False)
    op.create_index(op.f('ix_goods_receipts_location_id'), 'goods_receipts', ['location_id'], unique=False)
    op.create_index('ix_goods_receipts_po', 'goods_receipts', ['tenant_id', 'purchase_order_id'], unique=False)
    op.create_index(op.f('ix_goods_receipts_purchase_order_id'), 'goods_receipts', ['purchase_order_id'], unique=False)
    op.create_index(op.f('ix_goods_receipts_receipt_number'), 'goods_receipts', ['receipt_number'], unique=False)
    op.create_index(op.f('ix_goods_receipts_status'), 'goods_receipts', ['status'], unique=False)
    op.create_index(op.f('ix_goods_receipts_tenant_id'), 'goods_receipts', ['tenant_id'], unique=False)
    op.create_index('ix_goods_receipts_tenant_status', 'goods_receipts', ['tenant_id', 'status'], unique=False)
    op.create_index('ix_goods_receipts_vendor', 'goods_receipts', ['tenant_id', 'vendor_id'], unique=False)
    op.create_index(op.f('ix_goods_receipts_vendor_id'), 'goods_receipts', ['vendor_id'], unique=False)
    op.create_table('purchase_order_lines',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('purchase_order_id', sa.String(), nullable=False),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('item_code', sa.String(), nullable=True),
    sa.Column('item_name', sa.String(), nullable=True),
    sa.Column('description', sa.String(), nullable=True),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('uom', sa.String(), nullable=False),
    sa.Column('unit_price', sa.Numeric(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('expected_date', sa.Date(), nullable=True),
    sa.Column('received_quantity', sa.Numeric(), nullable=False),
    sa.Column('cancelled_quantity', sa.Numeric(), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['purchase_order_id'], ['purchase_orders.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_po_lines_item', 'purchase_order_lines', ['tenant_id', 'item_id'], unique=False)
    op.create_index('ix_po_lines_purchase_order', 'purchase_order_lines', ['tenant_id', 'purchase_order_id'], unique=False)
    op.create_index(op.f('ix_purchase_order_lines_item_id'), 'purchase_order_lines', ['item_id'], unique=False)
    op.create_index(op.f('ix_purchase_order_lines_purchase_order_id'), 'purchase_order_lines', ['purchase_order_id'], unique=False)
    op.create_index(op.f('ix_purchase_order_lines_status'), 'purchase_order_lines', ['status'], unique=False)
    op.create_index(op.f('ix_purchase_order_lines_tenant_id'), 'purchase_order_lines', ['tenant_id'], unique=False)
    op.create_table('goods_receipt_lines',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('goods_receipt_id', sa.String(), nullable=False),
    sa.Column('purchase_order_line_id', sa.String(), nullable=True),
    sa.Column('item_id', sa.String(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('uom', sa.String(), nullable=False),
    sa.Column('cost', sa.Numeric(), nullable=True),
    sa.Column('landing_cost', sa.Numeric(), nullable=True),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('lot_number', sa.String(), nullable=True),
    sa.Column('expiration_date', sa.Date(), nullable=True),
    sa.Column('manufacturing_date', sa.Date(), nullable=True),
    sa.Column('supplier_batch', sa.String(), nullable=True),
    sa.Column('serial_numbers', postgresql.ARRAY(sa.String()), nullable=True),
    sa.Column('store_location_id', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['goods_receipt_id'], ['goods_receipts.id'], ),
    sa.ForeignKeyConstraint(['purchase_order_line_id'], ['purchase_order_lines.id'], ),
    sa.ForeignKeyConstraint(['store_location_id'], ['store_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_goods_receipt_lines_goods_receipt_id'), 'goods_receipt_lines', ['goods_receipt_id'], unique=False)
    op.create_index('ix_goods_receipt_lines_item', 'goods_receipt_lines', ['tenant_id', 'item_id'], unique=False)
    op.create_index(op.f('ix_goods_receipt_lines_item_id'), 'goods_receipt_lines', ['item_id'], unique=False)
    op.create_index(op.f('ix_goods_receipt_lines_purchase_order_line_id'), 'goods_receipt_lines', ['purchase_order_line_id'], unique=False)
    op.create_index('ix_goods_receipt_lines_receipt', 'goods_receipt_lines', ['tenant_id', 'goods_receipt_id'], unique=False)
    op.create_index(op.f('ix_goods_receipt_lines_status'), 'goods_receipt_lines', ['status'], unique=False)
    op.create_index(op.f('ix_goods_receipt_lines_store_location_id'), 'goods_receipt_lines', ['store_location_id'], unique=False)
    op.create_index(op.f('ix_goods_receipt_lines_tenant_id'), 'goods_receipt_lines', ['tenant_id'], unique=False)
    op.create_table('putaway_locations',
    sa.Column('id', sa.String(), nullable=False),
    sa.Column('tenant_id', sa.String(), nullable=False),
    sa.Column('goods_receipt_line_id', sa.String(), nullable=False),
    sa.Column('location_id', sa.String(), nullable=False),
    sa.Column('quantity', sa.Numeric(), nullable=False),
    sa.Column('uom', sa.String(), nullable=False),
    sa.Column('status', sa.String(), nullable=False),
    sa.Column('sequence_order', sa.Integer(), nullable=False),
    sa.Column('executed_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('executed_by', sa.String(), nullable=True),
    sa.Column('notes', sa.String(), nullable=True),
    sa.Column('created_at', sa.DateTime(timezone=True), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.ForeignKeyConstraint(['goods_receipt_line_id'], ['goods_receipt_lines.id'], ),
    sa.ForeignKeyConstraint(['location_id'], ['store_locations.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('ix_putaway_location', 'putaway_locations', ['tenant_id', 'location_id'], unique=False)
    op.create_index(op.f('ix_putaway_locations_goods_receipt_line_id'), 'putaway_locations', ['goods_receipt_line_id'], unique=False)
    op.create_index(op.f('ix_putaway_locations_location_id'), 'putaway_locations', ['location_id'], unique=False)
    op.create_index(op.f('ix_putaway_locations_status'), 'putaway_locations', ['status'], unique=False)
    op.create_index(op.f('ix_putaway_locations_tenant_id'), 'putaway_locations', ['tenant_id'], unique=False)
    op.create_index('ix_putaway_status', 'putaway_locations', ['tenant_id', 'status'], unique=False)
    op.create_index('ix_putaway_tenant_line', 'putaway_locations', ['tenant_id', 'goods_receipt_line_id'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index('ix_putaway_tenant_line', table_name='putaway_locations')
    op.drop_index('ix_putaway_status', table_name='putaway_locations')
    op.drop_index(op.f('ix_putaway_locations_tenant_id'), table_name='putaway_locations')
    op.drop_index(op.f('ix_putaway_locations_status'), table_name='putaway_locations')
    op.drop_index(op.f('ix_putaway_locations_location_id'), table_name='putaway_locations')
    op.drop_index(op.f('ix_putaway_locations_goods_receipt_line_id'), table_name='putaway_locations')
    op.drop_index('ix_putaway_location', table_name='putaway_locations')
    op.drop_table('putaway_locations')
    op.drop_index(op.f('ix_goods_receipt_lines_tenant_id'), table_name='goods_receipt_lines')
    op.drop_index(op.f('ix_goods_receipt_lines_store_location_id'), table_name='goods_receipt_lines')
    op.drop_index(op.f('ix_goods_receipt_lines_status'), table_name='goods_receipt_lines')
    op.drop_index('ix_goods_receipt_lines_receipt', table_name='goods_receipt_lines')
    op.drop_index(op.f('ix_goods_receipt_lines_purchase_order_line_id'), table_name='goods_receipt_lines')
    op.drop_index(op.f('ix_goods_receipt_lines_item_id'), table_name='goods_receipt_lines')
    op.drop_index('ix_goods_receipt_lines_item', table_name='goods_receipt_lines')
    op.drop_index(op.f('ix_goods_receipt_lines_goods_receipt_id'), table_name='goods_receipt_lines')
    op.drop_table('goods_receipt_lines')
    op.drop_index(op.f('ix_purchase_order_lines_tenant_id'), table_name='purchase_order_lines')
    op.drop_index(op.f('ix_purchase_order_lines_status'), table_name='purchase_order_lines')
    op.drop_index(op.f('ix_purchase_order_lines_purchase_order_id'), table_name='purchase_order_lines')
    op.drop_index(op.f('ix_purchase_order_lines_item_id'), table_name='purchase_order_lines')
    op.drop_index('ix_po_lines_purchase_order', table_name='purchase_order_lines')
    op.drop_index('ix_po_lines_item', table_name='purchase_order_lines')
    op.drop_table('purchase_order_lines')
    op.drop_index(op.f('ix_goods_receipts_vendor_id'), table_name='goods_receipts')
    op.drop_index('ix_goods_receipts_vendor', table_name='goods_receipts')
    op.drop_index('ix_goods_receipts_tenant_status', table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_tenant_id'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_status'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_receipt_number'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_purchase_order_id'), table_name='goods_receipts')
    op.drop_index('ix_goods_receipts_po', table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_location_id'), table_name='goods_receipts')
    op.drop_index('ix_goods_receipts_location', table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_is_deleted'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_delivery_note'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_code'), table_name='goods_receipts')
    op.drop_index(op.f('ix_goods_receipts_bill_of_lading'), table_name='goods_receipts')
    op.drop_table('goods_receipts')
    op.drop_index(op.f('ix_purchase_orders_warehouse_id'), table_name='purchase_orders')
    op.drop_index('ix_purchase_orders_tenant_wh', table_name='purchase_orders')
    op.drop_index('ix_purchase_orders_tenant_supplier', table_name='purchase_orders')
    op.drop_index('ix_purchase_orders_tenant_status', table_name='purchase_orders')
    op.drop_index(op.f('ix_purchase_orders_tenant_id'), table_name='purchase_orders')
    op.drop_index(op.f('ix_purchase_orders_supplier_id'), table_name='purchase_orders')
    op.drop_index(op.f('ix_purchase_orders_status'), table_name='purchase_orders')
    op.drop_index(op.f('ix_purchase_orders_po_number'), table_name='purchase_orders')
    op.drop_index('ix_purchase_orders_number_unique', table_name='purchase_orders', postgresql_where=sa.text('po_number IS NOT NULL'))
    op.drop_table('purchase_orders')
    op.drop_index(op.f('ix_items_tracking_scope'), table_name='items')
    op.drop_index('ix_items_tenant_usage', table_name='items')
    op.drop_index('ix_items_tenant_type', table_name='items')
    op.drop_index('ix_items_tenant_sku', table_name='items', postgresql_where=sa.text('sku IS NOT NULL'))
    op.drop_index('ix_items_tenant_scope', table_name='items')
    op.drop_index(op.f('ix_items_tenant_id'), table_name='items')
    op.drop_index('ix_items_tenant_group', table_name='items')
    op.drop_index('ix_items_tenant_code', table_name='items', postgresql_where=sa.text('code IS NOT NULL'))
    op.drop_index('ix_items_tenant_category', table_name='items')
    op.drop_index('ix_items_tenant_active', table_name='items')
    op.drop_index(op.f('ix_items_sku'), table_name='items')
    op.drop_index(op.f('ix_items_item_usage'), table_name='items')
    op.drop_index(op.f('ix_items_item_type'), table_name='items')
    op.drop_index(op.f('ix_items_item_group'), table_name='items')
    op.drop_index(op.f('ix_items_code'), table_name='items')
    op.drop_index(op.f('ix_items_category_id'), table_name='items')
    op.drop_index('ix_items_attributes', table_name='items', postgresql_using='gin')
    op.drop_index(op.f('ix_items_active'), table_name='items')
    op.drop_table('items')
    op.drop_index(op.f('ix_inventory_transactions_tracking_id'), table_name='inventory_transactions')
    op.drop_index(op.f('ix_inventory_transactions_tenant_id'), table_name='inventory_transactions')
    op.drop_index(op.f('ix_inventory_transactions_occurred_at'), table_name='inventory_transactions')
    op.drop_index(op.f('ix_inventory_transactions_location_id'), table_name='inventory_transactions')
    op.drop_index(op.f('ix_inventory_transactions_item_id'), table_name='inventory_transactions')
    op.drop_index('ix_inv_tx_item', table_name='inventory_transactions')
    op.drop_index('ix_inv_tx_idempotency', table_name='inventory_transactions')
    op.drop_index('ix_inv_tx_date', table_name='inventory_transactions')
    op.drop_table('inventory_transactions')
    op.drop_index(op.f('ix_inventory_balances_tracking_id'), table_name='inventory_balances')
    op.drop_index(op.f('ix_inventory_balances_tenant_id'), table_name='inventory_balances')
    op.drop_index(op.f('ix_inventory_balances_status'), table_name='inventory_balances')
    op.drop_index(op.f('ix_inventory_balances_location_id'), table_name='inventory_balances')
    op.drop_index(op.f('ix_inventory_balances_item_id'), table_name='inventory_balances')
    op.drop_index('ix_inv_balance_tracking', table_name='inventory_balances')
    op.drop_index('ix_inv_balance_lookup', table_name='inventory_balances')
    op.drop_index('ix_inv_balance_location', table_name='inventory_balances')
    op.drop_table('inventory_balances')
    op.drop_index(op.f('ix_address_assignments_tenant_id'), table_name='address_assignments')
    op.drop_index('ix_address_assignments_tenant_entity', table_name='address_assignments')
    op.drop_index('ix_address_assignments_tenant_address', table_name='address_assignments')
    op.drop_index('ix_address_assignments_primary', table_name='address_assignments')
    op.drop_index(op.f('ix_address_assignments_is_primary'), table_name='address_assignments')
    op.drop_index(op.f('ix_address_assignments_entity_type'), table_name='address_assignments')
    op.drop_index(op.f('ix_address_assignments_entity_id'), table_name='address_assignments')
    op.drop_index(op.f('ix_address_assignments_address_type'), table_name='address_assignments')
    op.drop_index(op.f('ix_address_assignments_address_id'), table_name='address_assignments')
    op.drop_table('address_assignments')
    op.drop_index(op.f('ix_vendors_tenant_id'), table_name='vendors')
    op.drop_index('ix_vendors_tenant_contact_email', table_name='vendors', postgresql_where=sa.text('contact_email IS NOT NULL'))
    op.drop_index('ix_vendors_tenant_code', table_name='vendors')
    op.drop_index('ix_vendors_tenant_active', table_name='vendors')
    op.drop_index(op.f('ix_vendors_is_active'), table_name='vendors')
    op.drop_index(op.f('ix_vendors_contact_email'), table_name='vendors')
    op.drop_index(op.f('ix_vendors_code'), table_name='vendors')
    op.drop_table('vendors')
    op.drop_index(op.f('ix_vehicles_vehicle_type'), table_name='vehicles')
    op.drop_index('ix_vehicles_tenant_status', table_name='vehicles')
    op.drop_index(op.f('ix_vehicles_tenant_id'), table_name='vehicles')
    op.drop_index('ix_vehicles_tenant_deleted', table_name='vehicles')
    op.drop_index('ix_vehicles_tenant_code', table_name='vehicles')
    op.drop_index('ix_vehicles_tenant_active', table_name='vehicles')
    op.drop_index(op.f('ix_vehicles_status'), table_name='vehicles')
    op.drop_index(op.f('ix_vehicles_is_deleted'), table_name='vehicles')
    op.drop_index(op.f('ix_vehicles_is_active'), table_name='vehicles')
    op.drop_index(op.f('ix_vehicles_code'), table_name='vehicles')
    op.drop_table('vehicles')
    op.drop_index(op.f('ix_users_cache_tenant_id'), table_name='users_cache')
    op.drop_index('ix_users_cache_tenant_email', table_name='users_cache')
    op.drop_index('ix_users_cache_tenant_active', table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_synced_at'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_role'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_name'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_is_active'), table_name='users_cache')
    op.drop_index(op.f('ix_users_cache_email'), table_name='users_cache')
    op.drop_table('users_cache')
    op.drop_index(op.f('ix_users_username'), table_name='users')
    op.drop_index('ix_users_tenant_username', table_name='users')
    op.drop_index(op.f('ix_users_tenant_id'), table_name='users')
    op.drop_index('ix_users_tenant_email', table_name='users')
    op.drop_index(op.f('ix_users_last_name'), table_name='users')
    op.drop_index(op.f('ix_users_id'), table_name='users')
    op.drop_index(op.f('ix_users_first_name'), table_name='users')
    op.drop_index(op.f('ix_users_email'), table_name='users')
    op.drop_index(op.f('ix_users_base_role'), table_name='users')
    op.drop_table('users')
    op.drop_index('ix_user_roles_user_tenant', table_name='user_roles')
    op.drop_index('ix_user_roles_user_role', table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_user_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_tenant_id'), table_name='user_roles')
    op.drop_index('ix_user_roles_role_tenant', table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_role_id'), table_name='user_roles')
    op.drop_index(op.f('ix_user_roles_id'), table_name='user_roles')
    op.drop_table('user_roles')
    op.drop_index('ix_user_preferences_user_tenant', table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_user_id'), table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_tenant_id'), table_name='user_preferences')
    op.drop_index('ix_user_preferences_tenant', table_name='user_preferences')
    op.drop_index(op.f('ix_user_preferences_id'), table_name='user_preferences')
    op.drop_table('user_preferences')
    op.drop_index('ix_user_groups_user_tenant', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_user_id'), table_name='user_groups')
    op.drop_index('ix_user_groups_user_group', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_tenant_id'), table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_id'), table_name='user_groups')
    op.drop_index('ix_user_groups_group_tenant', table_name='user_groups')
    op.drop_index(op.f('ix_user_groups_group_id'), table_name='user_groups')
    op.drop_table('user_groups')
    op.drop_index('ix_uom_tenant_code', table_name='units_of_measure')
    op.drop_index(op.f('ix_units_of_measure_tenant_id'), table_name='units_of_measure')
    op.drop_index(op.f('ix_units_of_measure_code'), table_name='units_of_measure')
    op.drop_table('units_of_measure')
    op.drop_index('ix_ui_schemas_tenant_status', table_name='ui_schemas')
    op.drop_index('ix_ui_schemas_tenant_name_version', table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_tenant_id'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_status'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_name'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_id'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_created_by'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_created_at'), table_name='ui_schemas')
    op.drop_index(op.f('ix_ui_schemas_category'), table_name='ui_schemas')
    op.drop_table('ui_schemas')
    op.drop_index('ix_ui_schema_versions_schema_version', table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_schema_id'), table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_id'), table_name='ui_schema_versions')
    op.drop_index(op.f('ix_ui_schema_versions_created_at'), table_name='ui_schema_versions')
    op.drop_table('ui_schema_versions')
    op.drop_index('ix_ui_pages_tenant_route', table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_tenant_id'), table_name='ui_pages')
    op.drop_index('ix_ui_pages_tenant_active', table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_schema_id'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_route_path'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_is_active'), table_name='ui_pages')
    op.drop_index(op.f('ix_ui_pages_id'), table_name='ui_pages')
    op.drop_table('ui_pages')
    op.drop_index('ix_ui_custom_components_tenant_type', table_name='ui_custom_components')
    op.drop_index('ix_ui_custom_components_tenant_name', table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_tenant_id'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_is_active'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_id'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_component_type'), table_name='ui_custom_components')
    op.drop_index(op.f('ix_ui_custom_components_category'), table_name='ui_custom_components')
    op.drop_table('ui_custom_components')
    op.drop_index(op.f('ix_tests_tenant_id'), table_name='tests')
    op.drop_index('ix_tests_tenant_deleted', table_name='tests')
    op.drop_index('ix_tests_tenant_code', table_name='tests')
    op.drop_index('ix_tests_tenant_active', table_name='tests')
    op.drop_index(op.f('ix_tests_is_deleted'), table_name='tests')
    op.drop_index(op.f('ix_tests_is_active'), table_name='tests')
    op.drop_index(op.f('ix_tests_code'), table_name='tests')
    op.drop_table('tests')
    op.drop_index(op.f('ix_test_trees_tenant_id'), table_name='test_trees')
    op.drop_index('ix_test_trees_tenant_deleted', table_name='test_trees')
    op.drop_index('ix_test_trees_tenant_code', table_name='test_trees')
    op.drop_index('ix_test_trees_tenant_active', table_name='test_trees')
    op.drop_index(op.f('ix_test_trees_parent_test_tree_id'), table_name='test_trees')
    op.drop_index('ix_test_trees_parent', table_name='test_trees')
    op.drop_index(op.f('ix_test_trees_level'), table_name='test_trees')
    op.drop_index(op.f('ix_test_trees_is_deleted'), table_name='test_trees')
    op.drop_index(op.f('ix_test_trees_is_active'), table_name='test_trees')
    op.drop_index(op.f('ix_test_trees_code'), table_name='test_trees')
    op.drop_table('test_trees')
    op.drop_index(op.f('ix_test_tree_backends_tenant_id'), table_name='test_tree_backends')
    op.drop_index('ix_test_tree_backends_tenant_deleted', table_name='test_tree_backends')
    op.drop_index('ix_test_tree_backends_tenant_code', table_name='test_tree_backends')
    op.drop_index('ix_test_tree_backends_tenant_active', table_name='test_tree_backends')
    op.drop_index(op.f('ix_test_tree_backends_is_deleted'), table_name='test_tree_backends')
    op.drop_index(op.f('ix_test_tree_backends_is_active'), table_name='test_tree_backends')
    op.drop_index(op.f('ix_test_tree_backends_code'), table_name='test_tree_backends')
    op.drop_table('test_tree_backends')
    op.drop_index(op.f('ix_test_entities_tenant_id'), table_name='test_entities')
    op.drop_index('ix_test_entities_tenant_code', table_name='test_entities')
    op.drop_index('ix_test_entities_tenant_active', table_name='test_entities')
    op.drop_index(op.f('ix_test_entities_is_active'), table_name='test_entities')
    op.drop_index(op.f('ix_test_entities_code'), table_name='test_entities')
    op.drop_table('test_entities')
    op.drop_index(op.f('ix_test_basics_tenant_id'), table_name='test_basics')
    op.drop_index('ix_test_basics_tenant_deleted', table_name='test_basics')
    op.drop_index('ix_test_basics_tenant_code', table_name='test_basics')
    op.drop_index('ix_test_basics_tenant_active', table_name='test_basics')
    op.drop_index(op.f('ix_test_basics_is_deleted'), table_name='test_basics')
    op.drop_index(op.f('ix_test_basics_is_active'), table_name='test_basics')
    op.drop_index(op.f('ix_test_basics_code'), table_name='test_basics')
    op.drop_table('test_basics')
    op.drop_index(op.f('ix_tenants_slug'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_name'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_is_active'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_id'), table_name='tenants')
    op.drop_index(op.f('ix_tenants_database_strategy'), table_name='tenants')
    op.drop_table('tenants')
    op.drop_index(op.f('ix_tenant_subscriptions_tenant_id'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_status'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_plan_tier'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_is_locked'), table_name='tenant_subscriptions')
    op.drop_index(op.f('ix_tenant_subscriptions_id'), table_name='tenant_subscriptions')
    op.drop_table('tenant_subscriptions')
    op.drop_index('ix_store_locations_type', table_name='store_locations')
    op.drop_index('ix_store_locations_tenant_type_code', table_name='store_locations')
    op.drop_index(op.f('ix_store_locations_tenant_id'), table_name='store_locations')
    op.drop_index(op.f('ix_store_locations_sub_location_type'), table_name='store_locations')
    op.drop_index(op.f('ix_store_locations_parent_location_id'), table_name='store_locations')
    op.drop_index('ix_store_locations_parent', table_name='store_locations')
    op.drop_index(op.f('ix_store_locations_location_type'), table_name='store_locations')
    op.drop_index(op.f('ix_store_locations_bin_type'), table_name='store_locations')
    op.drop_table('store_locations')
    op.drop_index('ix_standard_costs_unique', table_name='standard_costs')
    op.drop_index(op.f('ix_standard_costs_tenant_id'), table_name='standard_costs')
    op.drop_index('ix_standard_costs_lookup', table_name='standard_costs')
    op.drop_index(op.f('ix_standard_costs_item_id'), table_name='standard_costs')
    op.drop_table('standard_costs')
    op.drop_index('ix_sessions_user_tenant', table_name='sessions')
    op.drop_index('ix_sessions_user_status', table_name='sessions')
    op.drop_index(op.f('ix_sessions_user_id'), table_name='sessions')
    op.drop_index('ix_sessions_tenant_status', table_name='sessions')
    op.drop_index(op.f('ix_sessions_tenant_id'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_status'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_last_activity_at'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_ip_address'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_id'), table_name='sessions')
    op.drop_index('ix_sessions_expires_at', table_name='sessions')
    op.drop_index(op.f('ix_sessions_device_type'), table_name='sessions')
    op.drop_index(op.f('ix_sessions_created_at'), table_name='sessions')
    op.drop_table('sessions')
    op.drop_index('ix_serials_tenant_item_serial', table_name='serials')
    op.drop_index(op.f('ix_serials_tenant_id'), table_name='serials')
    op.drop_index(op.f('ix_serials_status'), table_name='serials')
    op.drop_index(op.f('ix_serials_item_id'), table_name='serials')
    op.drop_table('serials')
    op.drop_index('ix_sequences_tenant_type', table_name='sequences')
    op.drop_index(op.f('ix_sequences_tenant_id'), table_name='sequences')
    op.drop_index(op.f('ix_sequences_sequence_type'), table_name='sequences')
    op.drop_table('sequences')
    op.drop_index('ix_roles_tenant_name', table_name='roles')
    op.drop_index(op.f('ix_roles_tenant_id'), table_name='roles')
    op.drop_index('ix_roles_tenant_active', table_name='roles')
    op.drop_index(op.f('ix_roles_name'), table_name='roles')
    op.drop_index(op.f('ix_roles_is_active'), table_name='roles')
    op.drop_index(op.f('ix_roles_id'), table_name='roles')
    op.drop_table('roles')
    op.drop_index(op.f('ix_putaway_rules_warehouse_id'), table_name='putaway_rules')
    op.drop_index('ix_putaway_rules_warehouse', table_name='putaway_rules')
    op.drop_index(op.f('ix_putaway_rules_tenant_id'), table_name='putaway_rules')
    op.drop_index('ix_putaway_rules_selector', table_name='putaway_rules', postgresql_using='gin')
    op.drop_index('ix_putaway_rules_priority', table_name='putaway_rules')
    op.drop_index(op.f('ix_putaway_rules_enabled'), table_name='putaway_rules')
    op.drop_table('putaway_rules')
    op.drop_index(op.f('ix_picking_rules_warehouse_id'), table_name='picking_rules')
    op.drop_index('ix_picking_rules_warehouse', table_name='picking_rules')
    op.drop_index(op.f('ix_picking_rules_tenant_id'), table_name='picking_rules')
    op.drop_index('ix_picking_rules_strategy', table_name='picking_rules')
    op.drop_index(op.f('ix_picking_rules_enabled'), table_name='picking_rules')
    op.drop_table('picking_rules')
    op.drop_index('ix_lots_tenant_item_lot', table_name='lots')
    op.drop_index(op.f('ix_lots_tenant_id'), table_name='lots')
    op.drop_index(op.f('ix_lots_status'), table_name='lots')
    op.drop_index(op.f('ix_lots_item_id'), table_name='lots')
    op.drop_index('ix_lots_expiration', table_name='lots')
    op.drop_table('lots')
    op.drop_index(op.f('ix_item_uom_mappings_tenant_id'), table_name='item_uom_mappings')
    op.drop_index(op.f('ix_item_uom_mappings_item_id'), table_name='item_uom_mappings')
    op.drop_index(op.f('ix_item_uom_mappings_is_primary'), table_name='item_uom_mappings')
    op.drop_index(op.f('ix_item_uom_mappings_context'), table_name='item_uom_mappings')
    op.drop_index('ix_item_uom_item_context_uom', table_name='item_uom_mappings')
    op.drop_index('ix_item_uom_item', table_name='item_uom_mappings')
    op.drop_index('ix_item_uom_context', table_name='item_uom_mappings')
    op.drop_table('item_uom_mappings')
    op.drop_index('ix_item_suppliers_unique', table_name='item_suppliers')
    op.drop_index(op.f('ix_item_suppliers_tenant_id'), table_name='item_suppliers')
    op.drop_index(op.f('ix_item_suppliers_supplier_id'), table_name='item_suppliers')
    op.drop_index('ix_item_suppliers_supplier', table_name='item_suppliers')
    op.drop_index(op.f('ix_item_suppliers_item_id'), table_name='item_suppliers')
    op.drop_index('ix_item_suppliers_item', table_name='item_suppliers')
    op.drop_table('item_suppliers')
    op.drop_index(op.f('ix_item_categories_tenant_id'), table_name='item_categories')
    op.drop_index('ix_item_categories_tenant_code', table_name='item_categories')
    op.drop_index(op.f('ix_item_categories_sort_order'), table_name='item_categories')
    op.drop_index(op.f('ix_item_categories_parent_category_id'), table_name='item_categories')
    op.drop_index('ix_item_categories_parent', table_name='item_categories')
    op.drop_index(op.f('ix_item_categories_level'), table_name='item_categories')
    op.drop_index(op.f('ix_item_categories_is_active'), table_name='item_categories')
    op.drop_index('ix_item_categories_attributes', table_name='item_categories', postgresql_using='gin')
    op.drop_index('ix_item_categories_active', table_name='item_categories')
    op.drop_table('item_categories')
    op.drop_index('ix_tracking_type', table_name='inventory_tracking')
    op.drop_index('ix_tracking_tenant_item_type_id', table_name='inventory_tracking')
    op.drop_index('ix_tracking_status', table_name='inventory_tracking')
    op.drop_index('ix_tracking_parent', table_name='inventory_tracking')
    op.drop_index('ix_tracking_expiration', table_name='inventory_tracking')
    op.drop_index(op.f('ix_inventory_tracking_tracking_type'), table_name='inventory_tracking')
    op.drop_index(op.f('ix_inventory_tracking_tenant_id'), table_name='inventory_tracking')
    op.drop_index(op.f('ix_inventory_tracking_status'), table_name='inventory_tracking')
    op.drop_index(op.f('ix_inventory_tracking_parent_tracking_id'), table_name='inventory_tracking')
    op.drop_index(op.f('ix_inventory_tracking_item_id'), table_name='inventory_tracking')
    op.drop_table('inventory_tracking')
    op.drop_index(op.f('ix_inventory_reservations_warehouse_id'), table_name='inventory_reservations')
    op.drop_index(op.f('ix_inventory_reservations_tenant_id'), table_name='inventory_reservations')
    op.drop_index(op.f('ix_inventory_reservations_status'), table_name='inventory_reservations')
    op.drop_index(op.f('ix_inventory_reservations_item_id'), table_name='inventory_reservations')
    op.drop_index('ix_inv_reservations_source', table_name='inventory_reservations')
    op.drop_index('ix_inv_reservations_item', table_name='inventory_reservations')
    op.drop_table('inventory_reservations')
    op.drop_index('ix_groups_tenant_name', table_name='groups')
    op.drop_index(op.f('ix_groups_tenant_id'), table_name='groups')
    op.drop_index('ix_groups_tenant_active', table_name='groups')
    op.drop_index(op.f('ix_groups_name'), table_name='groups')
    op.drop_index(op.f('ix_groups_is_active'), table_name='groups')
    op.drop_index(op.f('ix_groups_id'), table_name='groups')
    op.drop_table('groups')
    op.drop_index(op.f('ix_group_roles_tenant_id'), table_name='group_roles')
    op.drop_index('ix_group_roles_role_tenant', table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_role_id'), table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_id'), table_name='group_roles')
    op.drop_index('ix_group_roles_group_tenant', table_name='group_roles')
    op.drop_index('ix_group_roles_group_role', table_name='group_roles')
    op.drop_index(op.f('ix_group_roles_group_id'), table_name='group_roles')
    op.drop_table('group_roles')
    op.drop_index(op.f('ix_employees_tenant_id'), table_name='employees')
    op.drop_index('ix_employees_tenant_deleted', table_name='employees')
    op.drop_index('ix_employees_tenant_code', table_name='employees')
    op.drop_index('ix_employees_tenant_active', table_name='employees')
    op.drop_index(op.f('ix_employees_is_deleted'), table_name='employees')
    op.drop_index(op.f('ix_employees_is_active'), table_name='employees')
    op.drop_index(op.f('ix_employees_code'), table_name='employees')
    op.drop_table('employees')
    op.drop_index(op.f('ix_customer_types_tenant_id'), table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_deleted', table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_code', table_name='customer_types')
    op.drop_index('ix_customer_types_tenant_active', table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_is_deleted'), table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_is_active'), table_name='customer_types')
    op.drop_index(op.f('ix_customer_types_code'), table_name='customer_types')
    op.drop_table('customer_types')
    op.drop_index(op.f('ix_customer_groups_tenant_id'), table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_deleted', table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_code', table_name='customer_groups')
    op.drop_index('ix_customer_groups_tenant_active', table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_parent_id'), table_name='customer_groups')
    op.drop_index('ix_customer_groups_parent', table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_level'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_is_deleted'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_is_active'), table_name='customer_groups')
    op.drop_index(op.f('ix_customer_groups_code'), table_name='customer_groups')
    op.drop_table('customer_groups')
    op.drop_index('ix_cost_variances_type', table_name='cost_variances')
    op.drop_index('ix_cost_variances_tx', table_name='cost_variances')
    op.drop_index(op.f('ix_cost_variances_tenant_id'), table_name='cost_variances')
    op.drop_index(op.f('ix_cost_variances_item_id'), table_name='cost_variances')
    op.drop_index('ix_cost_variances_item', table_name='cost_variances')
    op.drop_table('cost_variances')
    op.drop_index(op.f('ix_cost_layers_tenant_id'), table_name='cost_layers')
    op.drop_index('ix_cost_layers_lookup', table_name='cost_layers')
    op.drop_index(op.f('ix_cost_layers_item_id'), table_name='cost_layers')
    op.drop_table('cost_layers')
    op.drop_index(op.f('ix_barcodes_tenant_id'), table_name='barcodes')
    op.drop_index('ix_barcodes_tenant_code', table_name='barcodes')
    op.drop_index(op.f('ix_barcodes_item_id'), table_name='barcodes')
    op.drop_index('ix_barcodes_item', table_name='barcodes')
    op.drop_index(op.f('ix_barcodes_barcode'), table_name='barcodes')
    op.drop_table('barcodes')
    op.drop_index(op.f('ix_audit_logs_user_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_user', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_timestamp'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_tenant_timestamp', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_tenant_id'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_severity'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_is_sensitive'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_is_pii'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_event_type', table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_event_id'), table_name='audit_logs')
    op.drop_index(op.f('ix_audit_logs_entity_id'), table_name='audit_logs')
    op.drop_index('ix_audit_logs_entity', table_name='audit_logs')
    op.drop_table('audit_logs')
    op.drop_index('ix_addresses_tenant_id', table_name='addresses')
    op.drop_table('addresses')
    # ### end Alembic commands ###

